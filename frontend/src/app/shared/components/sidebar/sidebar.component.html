<!-- Overlay para mobile -->
<div 
  class="mobile-overlay" 
  [class.active]="isMobileMenuOpen"
  (click)="closeMobileMenu()">
</div>

<!-- Sidebar -->
<aside class="sidebar" [class.collapsed]="isCollapsed" [class.mobile-open]="isMobileMenuOpen">
  <!-- Header del Sidebar -->
  <div class="sidebar-header">
    <div class="logo-container">
      <div class="logo">
        <span class="logo-icon">A</span>
      </div>
      <div class="logo-text" *ngIf="!isCollapsed">
        <h2>AgriCol</h2>
        <p>GestiÃ³n Inteligente</p>
      </div>
    </div>
  </div>

  <!-- BotÃ³n para colapsar/expandir (Desktop) - FLECHA A LA IZQUIERDA -->
  <button class="toggle-btn" (click)="toggleSidebar()" [class.collapsed]="isCollapsed">
    <span class="arrow" [class.rotated]="isCollapsed">â—€</span>
  </button>

  <!-- NavegaciÃ³n Principal -->
  <nav class="sidebar-nav">
    <ul class="nav-list">
      <li *ngFor="let item of filteredMenuItems" class="nav-item">
        <a 
          [routerLink]="item.route" 
          class="nav-link"
          [class.active]="isActive(item.route)"
          [title]="item.label"
          (click)="closeMobileMenu()">
          <span class="nav-icon">{{ item.icon }}</span>
          <span class="nav-label" *ngIf="!isCollapsed">{{ item.label }}</span>
          <span 
            *ngIf="item.badge && !isCollapsed" 
            class="nav-badge"
            [class.badge-warning]="item.badgeColor === 'warning'"
            [class.badge-info]="item.badgeColor === 'info'">
            {{ item.badge }}
          </span>
        </a>
      </li>
    </ul>
  </nav>

  <!-- Footer del Sidebar (Usuario) -->
  <div class="sidebar-footer">
    <div class="user-info">
      <div class="user-avatar">
        <span>{{ userName.charAt(0).toUpperCase() }}</span>
      </div>
      <div class="user-details" *ngIf="!isCollapsed">
        <p class="user-name">{{ userName }}</p>
        <p class="user-role">{{ userRole }}</p>
      </div>
    </div>
    <button 
      class="logout-btn" 
      (click)="logout()"
      [title]="isCollapsed ? 'Cerrar SesiÃ³n' : ''">
      <span class="logout-icon">ðŸšª</span>
      <span *ngIf="!isCollapsed">Cerrar SesiÃ³n</span>
    </button>
  </div>
</aside>

<!-- BotÃ³n de menÃº mobile (Hamburguesa) -->
<button class="mobile-menu-btn" (click)="toggleMobileMenu()">
  <span class="hamburger">â˜°</span>
</button>