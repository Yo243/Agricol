import{a as U}from"./chunk-X3E5RPMZ.js";import"./chunk-2F5RLYLV.js";import{d as T,g as z}from"./chunk-YAFIELCV.js";import{b as F,d as L,e as A,f as D,g as H,h as N,i as R,m as j,n as B,o as W,p as G,q,t as Y}from"./chunk-B4I6E7XD.js";import{$a as b,Ga as P,Ka as u,Q as S,Ra as d,Sa as e,Ta as n,Tb as k,Ua as m,Ub as E,V as x,Vb as I,W as h,X as g,Y as f,Zb as V,_a as w,bb as c,kb as a,lb as _,mb as C,nb as y,pb as v,qa as o,qb as M,rb as O}from"./chunk-PCLR6J3H.js";import"./chunk-FDERIQAA.js";function K(r,i){if(r&1&&(e(0,"div",11),g(),e(1,"svg",12),m(2,"path",13),n(),f(),e(3,"span"),a(4),n()()),r&2){let t=c();o(4),_(t.error)}}function Q(r,i){if(r&1&&(e(0,"div",14),g(),e(1,"svg",12),m(2,"path",15),n(),f(),e(3,"span"),a(4),n()()),r&2){let t=c();o(4),_(t.success)}}function X(r,i){r&1&&(e(0,"div",16)(1,"div",17),g(),e(2,"svg",18),m(3,"circle",19)(4,"path",20),n(),f(),e(5,"p",21),a(6,"Procesando orden..."),n()()())}function Z(r,i){if(r&1&&(e(0,"option",34),a(1),n()),r&2){let t=i.$implicit;d("value",t.id),o(),y(" ",t.nombre," - ",t.superficie," ha ")}}function $(r,i){if(r&1&&(e(0,"small",60),g(),e(1,"svg",61),m(2,"path",62),n(),a(3," Superficie disponible: "),f(),e(4,"strong"),a(5),n()()),r&2){let t=c(2);o(5),C("",t.getParcelaSuperficie(t.orden.parcelaId)," ha")}}function ee(r,i){if(r&1&&(e(0,"span"),a(1),n()),r&2){let t=c().$implicit;o(),C("- ",t.etapaCultivo)}}function te(r,i){if(r&1&&(e(0,"option",34),a(1),u(2,ee,2,1,"span",63),n()),r&2){let t=i.$implicit;d("value",t.id),o(),C(" ",t.nombre," "),o(),d("ngIf",t.etapaCultivo)}}function ne(r,i){if(r&1&&(e(0,"tr",77)(1,"td",78),a(2),n(),e(3,"td",79),a(4),n(),e(5,"td",80),a(6),n(),e(7,"td",81),a(8),n(),e(9,"td",82),a(10),n()()),r&2){let t=i.$implicit;o(2),_(t.insumo==null?null:t.insumo.nombre),o(2),_(t.cantidadCalculada.toFixed(2)),o(2),_(t.unidadMedida),o(2),C("$",t.costoUnitario.toFixed(2)),o(2),C("$",t.costoTotal.toFixed(2))}}function ae(r,i){if(r&1){let t=w();e(0,"div",24)(1,"div",25)(2,"h2",26)(3,"span",27),a(4,"2"),n(),a(5," Insumos Requeridos (Calculado Autom\xE1ticamente) "),n(),e(6,"button",64),b("click",function(){x(t);let l=c(2);return h(l.validarStock())}),g(),e(7,"svg",56),m(8,"path",65),n(),f(),e(9,"span"),a(10,"Validar Stock"),n()()(),e(11,"div",28)(12,"div",66)(13,"table",67)(14,"thead")(15,"tr")(16,"th",68),a(17,"Producto"),n(),e(18,"th",69),a(19,"Cantidad"),n(),e(20,"th",70),a(21,"Unidad"),n(),e(22,"th",71),a(23,"Costo Unit."),n(),e(24,"th",72),a(25,"Costo Total"),n()()(),e(26,"tbody"),u(27,ne,11,5,"tr",73),n(),e(28,"tfoot")(29,"tr",74)(30,"td",75),a(31,"Costo Total:"),n(),e(32,"td",76),a(33),n()()()()()()()}if(r&2){let t=c(2);o(27),d("ngForOf",t.detallesCalculados),o(6),C("$",t.costoTotal.toFixed(2))}}function ie(r,i){if(r&1&&(e(0,"div",83)(1,"div",84)(2,"h3",85),g(),e(3,"svg",56),m(4,"path",86),n(),a(5," Resumen "),n()(),f(),e(6,"div",87)(7,"div",88)(8,"span",89),a(9,"Total Insumos"),n(),e(10,"span",90),a(11),n()(),e(12,"div",88)(13,"span",89),a(14,"Hect\xE1reas"),n(),e(15,"span",90),a(16),n()(),m(17,"div",91),e(18,"div",92)(19,"span",93),a(20,"Costo Total"),n(),e(21,"span",94),a(22),n()()()()),r&2){let t=c(2);o(11),_(t.detallesCalculados.length),o(5),C("",t.orden.hectareasAplicadas||0," ha"),o(6),C("$",t.costoTotal.toFixed(2))}}function re(r,i){r&1&&(g(),e(0,"svg",100),m(1,"path",15),n())}function oe(r,i){r&1&&(g(),e(0,"svg",100),m(1,"path",101),n())}function le(r,i){if(r&1&&(e(0,"div",107)(1,"div",108),a(2),n(),e(3,"div",109)(4,"span",110)(5,"span",111),a(6,"Requerido:"),n(),e(7,"span",112),a(8),n()(),e(9,"span",110)(10,"span",111),a(11,"Disponible:"),n(),e(12,"span",112),a(13),n()(),e(14,"span",113)(15,"span",111),a(16,"Faltante:"),n(),e(17,"span",114),a(18),n()()()()),r&2){let t=i.$implicit;o(2),_(t.insumoNombre),o(6),_(t.cantidadRequerida),o(5),_(t.stockDisponible),o(5),_(t.faltante)}}function de(r,i){if(r&1&&(e(0,"div",102)(1,"p",103),a(2,"Los siguientes insumos no tienen stock suficiente:"),n(),e(3,"div",104),u(4,le,19,4,"div",105),n(),e(5,"p",106),a(6," Puedes crear la orden de todas formas, pero quedar\xE1 pendiente hasta que haya stock suficiente. "),n()()),r&2){let t=c(3);o(4),d("ngForOf",t.validacionStock.errores)}}function ce(r,i){if(r&1&&(e(0,"div",95)(1,"div",96),u(2,re,2,0,"svg",97)(3,oe,2,0,"svg",97),e(4,"h3",98),a(5),n()(),u(6,de,7,1,"div",99),n()),r&2){let t=c(2);o(),d("ngClass",t.validacionStock.esValido?"validation-success":"validation-warning"),o(),d("ngIf",t.validacionStock.esValido),o(),d("ngIf",!t.validacionStock.esValido),o(2),C(" ",t.validacionStock.esValido?"Stock Disponible":"Stock Insuficiente"," "),o(),d("ngIf",!t.validacionStock.esValido)}}function se(r,i){if(r&1){let t=w();e(0,"form",22),b("ngSubmit",function(){x(t);let l=c();return h(l.onSubmit())}),e(1,"div",23)(2,"div",24)(3,"div",25)(4,"h2",26)(5,"span",27),a(6,"1"),n(),a(7," Informaci\xF3n B\xE1sica "),n()(),e(8,"div",28)(9,"div",29)(10,"div",30)(11,"label",31),a(12," Parcela "),e(13,"span",32),a(14,"*"),n()(),e(15,"select",33),O("ngModelChange",function(l){x(t);let p=c();return M(p.orden.parcelaId,l)||(p.orden.parcelaId=l),h(l)}),e(16,"option",34),a(17,"Selecciona una parcela"),n(),u(18,Z,2,3,"option",35),n(),u(19,$,6,1,"small",36),n(),e(20,"div",30)(21,"label",37),a(22," Receta de Aplicaci\xF3n "),e(23,"span",32),a(24,"*"),n()(),e(25,"select",38),O("ngModelChange",function(l){x(t);let p=c();return M(p.orden.recetaId,l)||(p.orden.recetaId=l),h(l)}),b("change",function(){x(t);let l=c();return h(l.onRecetaChange())}),e(26,"option",34),a(27,"Selecciona una receta"),n(),u(28,te,3,3,"option",35),n()()(),e(29,"div",29)(30,"div",30)(31,"label",39),a(32," Hect\xE1reas a Aplicar "),e(33,"span",32),a(34,"*"),n()(),e(35,"div",40),g(),e(36,"svg",41),m(37,"path",42),n(),f(),e(38,"input",43),O("ngModelChange",function(l){x(t);let p=c();return M(p.orden.hectareasAplicadas,l)||(p.orden.hectareasAplicadas=l),h(l)}),b("ngModelChange",function(){x(t);let l=c();return h(l.onHectareasChange())}),n(),e(39,"span",44),a(40,"ha"),n()()(),e(41,"div",30)(42,"label",45),a(43," Fecha de Aplicaci\xF3n "),n(),e(44,"div",40),g(),e(45,"svg",41),m(46,"path",46),n(),f(),e(47,"input",47),O("ngModelChange",function(l){x(t);let p=c();return M(p.orden.fechaAplicacion,l)||(p.orden.fechaAplicacion=l),h(l)}),n()()()(),e(48,"div",30)(49,"label",48),a(50," Observaciones "),n(),e(51,"textarea",49),O("ngModelChange",function(l){x(t);let p=c();return M(p.orden.observaciones,l)||(p.orden.observaciones=l),h(l)}),n()()()(),u(52,ae,34,2,"div",50),n(),e(53,"div",51),u(54,ie,23,3,"div",52)(55,ce,7,5,"div",53),e(56,"div",54)(57,"button",55),b("click",function(){x(t);let l=c();return h(l.onCancel())}),g(),e(58,"svg",56),m(59,"path",57),n(),f(),e(60,"span"),a(61,"Cancelar"),n()(),e(62,"button",58),g(),e(63,"svg",56),m(64,"path",59),n(),f(),e(65,"span"),a(66,"Crear Orden"),n()()()()()}if(r&2){let t=c();o(15),v("ngModel",t.orden.parcelaId),o(),d("value",0),o(2),d("ngForOf",t.parcelas),o(),d("ngIf",t.orden.parcelaId>0),o(6),v("ngModel",t.orden.recetaId),o(),d("value",0),o(2),d("ngForOf",t.recetas),o(10),v("ngModel",t.orden.hectareasAplicadas),o(9),v("ngModel",t.orden.fechaAplicacion),o(4),v("ngModel",t.orden.observaciones),o(),d("ngIf",t.detallesCalculados.length>0),o(2),d("ngIf",t.detallesCalculados.length>0),o(),d("ngIf",t.mostrandoValidacion&&t.validacionStock),o(7),d("disabled",t.detallesCalculados.length===0||t.loading)}}var J=class r{ordenService=S(U);router=S(T);parcelas=[];recetas=[];recetaSeleccionada;orden={parcelaId:0,recetaId:0,hectareasAplicadas:0,fechaAplicacion:new Date,observaciones:""};detallesCalculados=[];costoTotal=0;validacionStock;mostrandoValidacion=!1;loading=!1;error="";success="";ngOnInit(){this.loadParcelas(),this.loadRecetas();let i=new Date;this.orden.fechaAplicacion=i}loadParcelas(){this.ordenService.getParcelas().subscribe({next:i=>{this.parcelas=i.filter(t=>t.activo)},error:i=>{console.error("Error al cargar parcelas:",i),this.error="Error al cargar parcelas"}})}loadRecetas(){this.ordenService.getRecetas().subscribe({next:i=>{this.recetas=i.filter(t=>t.activo)},error:i=>{console.error("Error al cargar recetas:",i),this.error="Error al cargar recetas"}})}onRecetaChange(){if(this.orden.recetaId===0){this.recetaSeleccionada=void 0,this.detallesCalculados=[],this.costoTotal=0;return}this.ordenService.getRecetaById(this.orden.recetaId).subscribe({next:i=>{this.recetaSeleccionada=i,this.calcularDetalles()},error:i=>{console.error("Error al cargar receta:",i),this.error="Error al cargar detalles de la receta"}})}onHectareasChange(){this.calcularDetalles()}calcularDetalles(){if(!this.recetaSeleccionada||this.orden.hectareasAplicadas<=0){this.detallesCalculados=[],this.costoTotal=0;return}this.detallesCalculados=this.ordenService.calcularDetallesOrden(this.recetaSeleccionada,this.orden.hectareasAplicadas),this.costoTotal=this.detallesCalculados.reduce((i,t)=>i+t.costoTotal,0)}validarStock(){if(this.orden.recetaId===0||this.orden.hectareasAplicadas<=0){alert("Por favor selecciona una receta y especifica las hect\xE1reas");return}this.loading=!0,this.mostrandoValidacion=!1,this.ordenService.validarStock(this.orden.recetaId,this.orden.hectareasAplicadas).subscribe({next:i=>{this.validacionStock=i,this.mostrandoValidacion=!0,this.loading=!1,i.esValido?(this.success="\u2713 Stock disponible para todos los insumos",setTimeout(()=>this.success="",3e3)):this.error="Stock insuficiente para algunos insumos"},error:i=>{console.error("Error al validar stock:",i),this.error="Error al validar disponibilidad de stock",this.loading=!1}})}onSubmit(){if(this.orden.parcelaId===0){this.error="Debes seleccionar una parcela";return}if(this.orden.recetaId===0){this.error="Debes seleccionar una receta";return}if(this.orden.hectareasAplicadas<=0){this.error="Las hect\xE1reas deben ser mayor a 0";return}!this.validacionStock&&!confirm("No has validado el stock disponible. \xBFDeseas continuar de todos modos?")||this.validacionStock&&!this.validacionStock.esValido&&!confirm(`El stock es insuficiente para algunos insumos. \xBFDeseas crear la orden de todos modos?

Nota: La orden quedar\xE1 pendiente y no se podr\xE1 aplicar hasta tener stock suficiente.`)||(this.loading=!0,this.error="",this.ordenService.createOrden(this.orden).subscribe({next:i=>{alert(`Orden #${i.id} creada exitosamente`),this.router.navigate(["/ordenes",i.id])},error:i=>{console.error("Error al crear orden:",i),this.error=i.error?.message||"Error al crear la orden",this.loading=!1}}))}onCancel(){this.router.navigate(["/ordenes"])}getParcelaSuperficie(i){let t=this.parcelas.find(s=>s.id===i);return t?t.superficie:0}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=P({type:r,selectors:[["app-orden-create"]],decls:13,vars:4,consts:[[1,"page-container"],[1,"page-header"],[1,"header-content"],[1,"page-title"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"title-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"page-subtitle"],["class","alert alert-error",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","loading-overlay",4,"ngIf"],["class","form-grid",3,"ngSubmit",4,"ngIf"],[1,"alert","alert-error"],["fill","currentColor","viewBox","0 0 20 20",1,"alert-icon"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"alert","alert-success"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"loading-overlay"],[1,"loading-card"],["fill","none","viewBox","0 0 24 24",1,"loading-spinner"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"loading-text"],[1,"form-grid",3,"ngSubmit"],[1,"form-main"],[1,"form-card"],[1,"card-header"],[1,"card-title"],[1,"step-badge"],[1,"card-body"],[1,"form-row-2"],[1,"form-group"],["for","parcela",1,"form-label"],[1,"required"],["id","parcela","name","parcelaId","required","",1,"form-input",3,"ngModelChange","ngModel"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["class","form-hint",4,"ngIf"],["for","receta",1,"form-label"],["id","receta","name","recetaId","required","",1,"form-input",3,"ngModelChange","change","ngModel"],["for","hectareas",1,"form-label"],[1,"input-with-icon"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"input-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"],["type","number","id","hectareas","name","hectareas","min","0.01","step","0.01","required","","placeholder","0.00",1,"form-input","input-with-padding",3,"ngModelChange","ngModel"],[1,"input-unit"],["for","fecha",1,"form-label"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],["type","date","id","fecha","name","fecha",1,"form-input","input-with-padding",3,"ngModelChange","ngModel"],["for","observaciones",1,"form-label"],["id","observaciones","name","observaciones","rows","4","placeholder","Notas adicionales sobre la aplicaci\xF3n, condiciones especiales, etc...",1,"form-textarea",3,"ngModelChange","ngModel"],["class","form-card",4,"ngIf"],[1,"form-sidebar"],["class","summary-card",4,"ngIf"],["class","validation-card",4,"ngIf"],[1,"action-buttons"],["type","button",1,"btn-action","btn-cancel",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],["type","submit",1,"btn-action","btn-submit",3,"disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"form-hint"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"hint-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[4,"ngIf"],["type","button",1,"btn-validate",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"],[1,"table-container"],[1,"detalle-table"],[1,"th-producto"],[1,"th-cantidad"],[1,"th-unidad"],[1,"th-costo-unit"],[1,"th-costo-total"],["class","table-row",4,"ngFor","ngForOf"],[1,"total-row"],["colspan","4",1,"td-total-label"],[1,"td-total-value"],[1,"table-row"],[1,"td-producto"],[1,"td-cantidad"],[1,"td-unidad"],[1,"td-costo-unit"],[1,"td-costo-total"],[1,"summary-card"],[1,"summary-header"],[1,"summary-title"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"],[1,"summary-body"],[1,"summary-item"],[1,"summary-label"],[1,"summary-value"],[1,"summary-divider"],[1,"summary-item-total"],[1,"summary-total-label"],[1,"summary-total-value"],[1,"validation-card"],[1,"validation-header",3,"ngClass"],["class","validation-icon","fill","currentColor","viewBox","0 0 20 20",4,"ngIf"],[1,"validation-title"],["class","validation-body",4,"ngIf"],["fill","currentColor","viewBox","0 0 20 20",1,"validation-icon"],["fill-rule","evenodd","d","M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule","evenodd"],[1,"validation-body"],[1,"validation-message"],[1,"stock-errors"],["class","stock-error-item",4,"ngFor","ngForOf"],[1,"validation-note"],[1,"stock-error-item"],[1,"error-name"],[1,"error-details"],[1,"error-detail"],[1,"error-label"],[1,"error-value"],[1,"error-detail","faltante"],[1,"error-value-danger"]],template:function(t,s){t&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),g(),e(4,"svg",4),m(5,"path",5),n(),a(6," Nueva Orden de Aplicaci\xF3n "),n(),f(),e(7,"p",6),a(8,"Crea una orden basada en recetas y parcelas"),n()()(),u(9,K,5,1,"div",7)(10,Q,5,1,"div",8)(11,X,7,0,"div",9)(12,se,67,14,"form",10),n()),t&2&&(o(9),d("ngIf",s.error),o(),d("ngIf",s.success),o(),d("ngIf",s.loading),o(),d("ngIf",!s.loading))},dependencies:[V,k,E,I,Y,N,B,W,F,R,j,L,A,q,G,H,D,z],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}.page-container[_ngcontent-%COMP%]{padding:2rem;max-width:1600px;margin:0 auto;background:#fafafa;min-height:100vh}@media (max-width: 768px){.page-container[_ngcontent-%COMP%]{padding:1rem}}.page-header[_ngcontent-%COMP%]{margin-bottom:2rem;padding:2rem;background:#fff;border-radius:16px;box-shadow:0 2px 8px #0000000f}.header-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;color:#111827;margin:0;display:flex;align-items:center;gap:.75rem;letter-spacing:-.025em}.title-icon[_ngcontent-%COMP%]{width:36px;height:36px;color:#1a7f5a}.page-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#6b7280;margin:0}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{padding:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:1.5rem}.title-icon[_ngcontent-%COMP%]{width:28px;height:28px}}.alert[_ngcontent-%COMP%]{padding:1.1rem 1.3rem;border-radius:12px;margin-bottom:1.2rem;display:flex;align-items:center;gap:.9rem;font-weight:500;font-size:.95rem;animation:_ngcontent-%COMP%_slideDown .3s ease}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.alert-icon[_ngcontent-%COMP%]{width:22px;height:22px;flex-shrink:0}.alert-error[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef2f2,#fee2e2);color:#991b1b;border:1px solid #fca5a5;border-left:5px solid #dc2626}.alert-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ecfdf5,#d1fae5);color:#065f46;border:1px solid #86efac;border-left:5px solid #10b981}.loading-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000073;display:flex;align-items:center;justify-content:center;z-index:40;padding:1rem}.loading-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:3rem 2rem;text-align:center;max-width:400px;width:100%;box-shadow:0 10px 30px #00000040}.loading-spinner[_ngcontent-%COMP%]{width:56px;height:56px;margin:0 auto 1.25rem;color:#1a7f5a;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-text[_ngcontent-%COMP%]{font-size:1rem;color:#6b7280;margin:0}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 400px;gap:2rem}.form-main[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.form-sidebar[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}@media (max-width: 1200px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-sidebar[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem}.action-buttons[_ngcontent-%COMP%]{flex-direction:row}}@media (max-width: 768px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.form-sidebar[_ngcontent-%COMP%]{grid-template-columns:1fr}.action-buttons[_ngcontent-%COMP%]{flex-direction:column-reverse}}.form-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 2px 8px #0000000f;overflow:hidden}.card-header[_ngcontent-%COMP%]{padding:1.5rem 2rem;background:linear-gradient(135deg,#f9fafb,#f3f4f6);border-bottom:2px solid #e5e7eb;display:flex;justify-content:space-between;align-items:center;gap:1rem}.card-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#111827;margin:0;display:flex;align-items:center;gap:1rem}.step-badge[_ngcontent-%COMP%]{width:40px;height:40px;background:linear-gradient(135deg,#1a7f5a,#166649);color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:800;font-size:1.1rem;flex-shrink:0;box-shadow:0 4px 12px #1a7f5a4d}.card-body[_ngcontent-%COMP%]{padding:2rem}@media (max-width: 768px){.card-header[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;flex-direction:column;align-items:flex-start}.card-body[_ngcontent-%COMP%]{padding:1.5rem}}.btn-validate[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;border:none;padding:.75rem 1.25rem;border-radius:10px;font-weight:600;font-size:.9rem;cursor:pointer;display:flex;align-items:center;gap:.5rem;transition:all .2s ease;box-shadow:0 2px 8px #3b82f633}.btn-validate[_ngcontent-%COMP%]:hover{background:#2563eb;transform:translateY(-2px);box-shadow:0 4px 12px #3b82f64d}@media (max-width: 768px){.btn-validate[_ngcontent-%COMP%]{width:100%;justify-content:center}}.form-row-2[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1.5rem;margin-bottom:1.5rem}@media (max-width: 768px){.form-row-2[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#374151;display:flex;align-items:center;gap:.25rem}.required[_ngcontent-%COMP%]{color:#dc2626;font-weight:700}.form-input[_ngcontent-%COMP%], .form-textarea[_ngcontent-%COMP%]{padding:.85rem 1rem;border:1.5px solid #d1d5db;border-radius:10px;font-size:.95rem;transition:all .25s ease;background:#fff;font-family:inherit}.form-input[_ngcontent-%COMP%]:hover, .form-textarea[_ngcontent-%COMP%]:hover{border-color:#9ca3af}.form-input[_ngcontent-%COMP%]:focus, .form-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#1a7f5a;box-shadow:0 0 0 3px #1a7f5a1f}.form-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:100px;line-height:1.6}.input-with-icon[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.input-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;width:20px;height:20px;color:#9ca3af;pointer-events:none}.input-with-padding[_ngcontent-%COMP%]{padding-left:3rem!important}.input-unit[_ngcontent-%COMP%]{position:absolute;right:1rem;font-weight:600;color:#6b7280;font-size:.9rem}.form-hint[_ngcontent-%COMP%]{font-size:.85rem;color:#6b7280;display:flex;align-items:center;gap:.5rem;padding:.75rem 1rem;background:linear-gradient(135deg,#eff6ff,#dbeafe);border-radius:8px;border-left:3px solid #3b82f6}.hint-icon[_ngcontent-%COMP%]{width:16px;height:16px;color:#3b82f6;flex-shrink:0}.table-container[_ngcontent-%COMP%]{overflow-x:auto;margin-top:.5rem}.detalle-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;min-width:600px}.detalle-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f9fafb,#f3f4f6)}.detalle-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1rem 1.25rem;text-align:left;font-weight:700;font-size:.8rem;color:#374151;text-transform:uppercase;letter-spacing:.05em;border-bottom:2px solid #e5e7eb;white-space:nowrap}.detalle-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1.25rem;border-bottom:1px solid #f3f4f6;font-size:.95rem}.table-row[_ngcontent-%COMP%]{transition:all .2s ease}.table-row[_ngcontent-%COMP%]:hover{background:#f9fafb}.td-producto[_ngcontent-%COMP%]{font-weight:600;color:#111827}.td-cantidad[_ngcontent-%COMP%], .td-costo-unit[_ngcontent-%COMP%], .td-costo-total[_ngcontent-%COMP%]{text-align:right;font-weight:600;font-variant-numeric:tabular-nums}.td-costo-total[_ngcontent-%COMP%]{color:#059669;font-size:1.05rem}.detalle-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a)}.total-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1.5rem 1.25rem;border-top:3px solid #fbbf24;font-size:1.1rem}.td-total-label[_ngcontent-%COMP%]{font-weight:700;color:#92400e}.td-total-value[_ngcontent-%COMP%]{text-align:right;font-weight:800;font-size:1.5rem;color:#d97706;font-variant-numeric:tabular-nums}@media (max-width: 768px){.detalle-table[_ngcontent-%COMP%]{min-width:100%}.detalle-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .detalle-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.9rem;font-size:.85rem}}.summary-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a7f5a,#166649);border-radius:16px;box-shadow:0 8px 24px #1a7f5a4d;overflow:hidden;color:#fff}.summary-header[_ngcontent-%COMP%]{padding:1.5rem;background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-bottom:1px solid rgba(255,255,255,.2)}.summary-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;margin:0;display:flex;align-items:center;gap:.5rem;color:#fff}.summary-body[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;gap:1.25rem}.summary-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.summary-label[_ngcontent-%COMP%]{font-size:.9rem;opacity:.9;font-weight:500}.summary-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.summary-divider[_ngcontent-%COMP%]{height:1px;background:#fff3}.summary-item-total[_ngcontent-%COMP%]{padding:1.25rem;background:#ffffff26;border-radius:12px;display:flex;flex-direction:column;gap:.5rem}.summary-total-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;opacity:.95}.summary-total-value[_ngcontent-%COMP%]{font-size:2.25rem;font-weight:900;letter-spacing:-.025em}@media (max-width: 768px){.summary-value[_ngcontent-%COMP%]{font-size:1.25rem}.summary-total-value[_ngcontent-%COMP%]{font-size:1.75rem}}.validation-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 2px 8px #0000000f;overflow:hidden}.validation-header[_ngcontent-%COMP%]{padding:1.5rem;display:flex;align-items:center;gap:1rem}.validation-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d1fae5,#a7f3d0);color:#065f46;border-bottom:3px solid #10b981}.validation-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a);color:#92400e;border-bottom:3px solid #f59e0b}.validation-icon[_ngcontent-%COMP%]{width:32px;height:32px;flex-shrink:0}.validation-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;margin:0}.validation-body[_ngcontent-%COMP%]{padding:1.5rem}.validation-message[_ngcontent-%COMP%]{color:#6b7280;font-size:.95rem;margin:0 0 1rem}.stock-errors[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:1rem}.stock-error-item[_ngcontent-%COMP%]{background:#fff7ed;padding:1.25rem;border-radius:10px;border-left:4px solid #f59e0b}.error-name[_ngcontent-%COMP%]{font-weight:700;color:#92400e;margin-bottom:.75rem;font-size:1rem}.error-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.error-detail[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.9rem;color:#6b7280}.error-detail.faltante[_ngcontent-%COMP%]{padding-top:.5rem;border-top:1px solid #fed7aa;font-weight:600}.error-label[_ngcontent-%COMP%]{color:#6b7280}.error-value[_ngcontent-%COMP%]{font-weight:600;color:#111827}.error-value-danger[_ngcontent-%COMP%]{font-weight:700;color:#dc2626}.validation-note[_ngcontent-%COMP%]{background:#00000008;padding:1rem;border-radius:8px;font-size:.85rem;color:#6b7280;margin:0;line-height:1.6}.action-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.btn-action[_ngcontent-%COMP%]{padding:1rem 1.5rem;border:none;border-radius:12px;font-weight:600;font-size:1rem;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:.75rem;transition:all .2s ease;width:100%}.btn-action[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px)}.btn-action[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.btn-cancel[_ngcontent-%COMP%]{background:#f3f4f6;color:#374151}.btn-cancel[_ngcontent-%COMP%]:hover{background:#e5e7eb}.btn-submit[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a7f5a,#166649);color:#fff;box-shadow:0 4px 12px #1a7f5a4d}.btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#166649,#0f5c41);box-shadow:0 6px 16px #1a7f5a66}.w-5[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}"]})};export{J as OrdenCreateComponent};
