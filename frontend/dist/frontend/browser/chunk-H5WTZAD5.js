import{a as P}from"./chunk-2F5RLYLV.js";import{b as D,d as H}from"./chunk-YAFIELCV.js";import{b as L,d as j,e as F,f as W,g as G,h as N,i as B,m as U,n as A,o as q,p as Y,q as K,t as J}from"./chunk-B4I6E7XD.js";import{$a as M,Ga as k,Ka as w,Q as O,Ra as c,Sa as e,Ta as n,Ua as m,Ub as R,V as f,Vb as V,W as b,X as g,Y as u,Zb as z,_a as y,bb as p,ec as T,kb as i,lb as v,mb as h,nb as I,pb as _,qa as r,qb as x,rb as C}from"./chunk-PCLR6J3H.js";import{a as E,b as S}from"./chunk-FDERIQAA.js";function X(s,o){if(s&1&&(e(0,"div",10),g(),e(1,"svg",11),m(2,"path",12),n(),u(),e(3,"span"),i(4),n()()),s&2){let t=p();r(4),v(t.error)}}function Z(s,o){s&1&&(e(0,"div",13),g(),e(1,"svg",14),m(2,"circle",15)(3,"path",16),n(),u(),e(4,"p",17),i(5,"Cargando..."),n()())}function $(s,o){if(s&1&&(e(0,"option",34),i(1),n()),s&2){let t=o.$implicit;c("value",t.id),r(),h(" ",t.nombre," ")}}function ee(s,o){if(s&1&&(e(0,"option",34),i(1),n()),s&2){let t=o.$implicit;c("value",t.id),r(),I(" ",t.nombre," (",t.unidadMedida,") ")}}function te(s,o){if(s&1){let t=y();e(0,"tr",99)(1,"td",100),i(2),n(),e(3,"td",101)(4,"strong"),i(5),n()(),e(6,"td",102),i(7),n(),e(8,"td",103),i(9),n(),e(10,"td",104),i(11),n(),e(12,"td",105)(13,"strong"),i(14),n()(),e(15,"td",106)(16,"div",107)(17,"button",108),M("click",function(){let a=f(t).index,d=p(3);return b(d.moverInsumo(a,"arriba"))}),g(),e(18,"svg",109),m(19,"path",110),n()(),u(),e(20,"button",111),M("click",function(){let a=f(t).index,d=p(3);return b(d.moverInsumo(a,"abajo"))}),g(),e(21,"svg",109),m(22,"path",37),n()(),u(),e(23,"button",112),M("click",function(){let a=f(t).index,d=p(3);return b(d.eliminarInsumo(a))}),g(),e(24,"svg",109),m(25,"path",113),n()()()()()}if(s&2){let t=o.$implicit,l=o.index,a=p(3);r(2),v(l+1),r(3),v(a.getInsumoNombre(t.insumoId)),r(2),h(" ",t.dosisPorHectarea," "),r(2),h(" ",t.unidadMedida," "),r(2),h(" $",a.getInsumoCosto(t.insumoId).toFixed(2)," "),r(3),h("$",(a.getInsumoCosto(t.insumoId)*t.dosisPorHectarea).toFixed(2)),r(3),c("disabled",l===0),r(3),c("disabled",l===a.receta.detalles.length-1)}}function ne(s,o){if(s&1&&(e(0,"div",85)(1,"div",86)(2,"table",87)(3,"thead")(4,"tr")(5,"th",88),i(6,"#"),n(),e(7,"th",89),i(8,"Insumo"),n(),e(9,"th",90),i(10,"Dosis/ha"),n(),e(11,"th",91),i(12,"Unidad"),n(),e(13,"th",92),i(14,"Costo Unit."),n(),e(15,"th",93),i(16,"Subtotal"),n(),e(17,"th",94),i(18,"Acciones"),n()()(),e(19,"tbody"),w(20,te,26,8,"tr",95),n(),e(21,"tfoot")(22,"tr",96)(23,"td",97),i(24,"Costo Total por Hect\xE1rea:"),n(),e(25,"td",98),i(26),n()()()()()()),s&2){let t=p(2);r(20),c("ngForOf",t.receta.detalles),r(6),h("$",t.costoTotal.toFixed(2))}}function ie(s,o){s&1&&(e(0,"div",114)(1,"div",115),g(),e(2,"svg",116),m(3,"path",117),n()(),u(),e(4,"p",118),i(5,"No hay insumos agregados todav\xEDa"),n(),e(6,"p",119),i(7,"Usa el formulario de arriba para agregar productos a esta receta"),n()())}function oe(s,o){if(s&1){let t=y();e(0,"form",18),M("ngSubmit",function(){f(t);let a=p();return b(a.onSubmit())}),e(1,"div",19)(2,"div",20)(3,"div",21)(4,"div",22)(5,"div",23),i(6,"1"),n(),e(7,"h2",24),i(8,"Informaci\xF3n B\xE1sica"),n()(),e(9,"div",25)(10,"div",26)(11,"label",27),i(12," Nombre de la Receta "),e(13,"span",28),i(14,"*"),n()(),e(15,"input",29),C("ngModelChange",function(a){f(t);let d=p();return x(d.receta.nombre,a)||(d.receta.nombre=a),b(a)}),n()(),e(16,"div",30)(17,"div",26)(18,"label",31),i(19," Cultivo "),e(20,"span",28),i(21,"*"),n()(),e(22,"div",32)(23,"select",33),C("ngModelChange",function(a){f(t);let d=p();return x(d.receta.cultivoId,a)||(d.receta.cultivoId=a),b(a)}),e(24,"option",34),i(25,"Selecciona un cultivo"),n(),w(26,$,2,2,"option",35),n(),g(),e(27,"svg",36),m(28,"path",37),n()()(),u(),e(29,"div",26)(30,"label",38),i(31," Etapa del Cultivo "),n(),e(32,"input",39),C("ngModelChange",function(a){f(t);let d=p();return x(d.receta.etapaCultivo,a)||(d.receta.etapaCultivo=a),b(a)}),n()()(),e(33,"div",26)(34,"label",40),i(35," Descripci\xF3n "),n(),e(36,"textarea",41),C("ngModelChange",function(a){f(t);let d=p();return x(d.receta.descripcion,a)||(d.receta.descripcion=a),b(a)}),n()()()(),e(37,"div",21)(38,"div",22)(39,"div",42)(40,"div",23),i(41,"2"),n(),e(42,"h2",24),i(43,"Insumos de la Receta"),n(),e(44,"span",43),i(45),n()()(),e(46,"div",25)(47,"div",44)(48,"div",45),g(),e(49,"svg",46),m(50,"path",47),n(),u(),e(51,"h3",48),i(52,"Agregar Insumo"),n()(),e(53,"div",49)(54,"div",50)(55,"div",51)(56,"label",52),i(57,"Insumo"),n(),e(58,"div",32)(59,"select",53),C("ngModelChange",function(a){f(t);let d=p();return x(d.nuevoDetalle.insumoId,a)||(d.nuevoDetalle.insumoId=a),b(a)}),e(60,"option",34),i(61,"Selecciona un insumo"),n(),w(62,ee,2,3,"option",35),n(),g(),e(63,"svg",36),m(64,"path",37),n()()(),u(),e(65,"div",26)(66,"label",52),i(67,"Dosis por Hect\xE1rea"),n(),e(68,"input",54),C("ngModelChange",function(a){f(t);let d=p();return x(d.nuevoDetalle.dosisPorHectarea,a)||(d.nuevoDetalle.dosisPorHectarea=a),b(a)}),n()(),e(69,"div",26)(70,"label",52),i(71,"Unidad de Medida"),n(),e(72,"div",32)(73,"select",55),C("ngModelChange",function(a){f(t);let d=p();return x(d.nuevoDetalle.unidadMedida,a)||(d.nuevoDetalle.unidadMedida=a),b(a)}),e(74,"option",56),i(75,"Kilogramos (kg)"),n(),e(76,"option",57),i(77,"Litros"),n(),e(78,"option",58),i(79,"Gramos (g)"),n(),e(80,"option",59),i(81,"Mililitros (ml)"),n()(),g(),e(82,"svg",36),m(83,"path",37),n()()()(),u(),e(84,"button",60),M("click",function(){f(t);let a=p();return b(a.agregarInsumo())}),g(),e(85,"svg",46),m(86,"path",47),n(),u(),e(87,"span"),i(88,"Agregar a la Receta"),n()()()(),w(89,ne,27,2,"div",61)(90,ie,8,0,"div",62),n()()(),e(91,"div",63)(92,"div",64)(93,"div",65),g(),e(94,"svg",46),m(95,"path",66),n(),u(),e(96,"h3",67),i(97,"Resumen"),n()(),e(98,"div",68)(99,"div",69)(100,"span",70),i(101,"Total de Insumos"),n(),e(102,"span",71),i(103),n()(),m(104,"div",72),e(105,"div",73)(106,"span",74),i(107,"Costo por Hect\xE1rea"),n(),e(108,"span",75),i(109),n()(),e(110,"div",76),g(),e(111,"svg",77),m(112,"path",78),n(),u(),e(113,"p",79),i(114,"Este es el costo estimado de aplicaci\xF3n por cada hect\xE1rea basado en las dosis configuradas."),n()()()(),e(115,"div",80)(116,"button",81),M("click",function(){f(t);let a=p();return b(a.onCancel())}),g(),e(117,"svg",46),m(118,"path",82),n(),u(),e(119,"span"),i(120,"Cancelar"),n()(),e(121,"button",83),g(),e(122,"svg",46),m(123,"path",84),n(),u(),e(124,"span"),i(125),n()()()()()()}if(s&2){let t=p();r(15),_("ngModel",t.receta.nombre),r(8),_("ngModel",t.receta.cultivoId),r(),c("value",0),r(2),c("ngForOf",t.cultivos),r(6),_("ngModel",t.receta.etapaCultivo),r(4),_("ngModel",t.receta.descripcion),r(9),h("",t.receta.detalles.length," producto(s)"),r(14),_("ngModel",t.nuevoDetalle.insumoId),c("disabled",t.insumosDisponibles.length===0),r(),c("value",0),r(2),c("ngForOf",t.insumosDisponibles),r(6),_("ngModel",t.nuevoDetalle.dosisPorHectarea),r(5),_("ngModel",t.nuevoDetalle.unidadMedida),r(11),c("disabled",t.nuevoDetalle.insumoId===0),r(5),c("ngIf",t.receta.detalles.length>0),r(),c("ngIf",t.receta.detalles.length===0),r(13),v(t.receta.detalles.length),r(6),h("$",t.costoTotal.toFixed(2)),r(12),c("disabled",t.receta.detalles.length===0),r(4),v(t.isEditMode?"Actualizar Receta":"Guardar Receta")}}var Q=class s{http=O(T);route=O(D);router=O(H);receta={cultivoId:0,nombre:"",descripcion:"",etapaCultivo:"",activo:!0,detalles:[]};cultivos=[];insumos=[];insumosDisponibles=[];isEditMode=!1;loading=!1;error="";costoTotal=0;nuevoDetalle={insumoId:0,dosisPorHectarea:0,unidadMedida:"kg",orden:1};ngOnInit(){let o=this.route.snapshot.params.id;o&&(this.isEditMode=!0,this.cargarReceta(+o)),this.cargarCatalogos()}cargarCatalogos(){this.http.get(`${P.apiUrl}/recetas/cultivos`).subscribe({next:o=>{this.cultivos=o.data},error:o=>{console.error("Error al cargar cultivos:",o)}}),this.http.get(`${P.apiUrl}/inventario`).subscribe({next:o=>{this.insumos=o.data||o,this.actualizarInsumosDisponibles()},error:o=>{console.error("Error al cargar insumos:",o),this.insumos=[],this.insumosDisponibles=[]}})}actualizarInsumosDisponibles(){let o=this.receta.detalles.map(t=>t.insumoId);this.insumosDisponibles=this.insumos.filter(t=>!o.includes(t.id))}cargarReceta(o){this.loading=!0,this.http.get(`${P.apiUrl}/recetas/${o}`).subscribe({next:t=>{this.receta=t.data,this.receta.detalles=t.data.detalles||[],this.actualizarInsumosDisponibles(),this.costoTotal=this.calcularCostoTotal(),this.loading=!1},error:t=>{console.error("Error:",t),this.error="No se pudo cargar la receta.",this.loading=!1}})}getInsumoNombre(o){let t=this.insumos.find(l=>l.id===o);return t?t.nombre:"Desconocido"}getInsumoCosto(o){let t=this.insumos.find(l=>l.id===o);return t?t.costoUnitario:0}agregarInsumo(){if(this.nuevoDetalle.insumoId===0){alert("Por favor selecciona un insumo");return}if(this.nuevoDetalle.dosisPorHectarea<=0){alert("La dosis debe ser mayor a 0");return}this.receta.detalles.push(S(E({},this.nuevoDetalle),{orden:this.receta.detalles.length+1})),this.nuevoDetalle={insumoId:0,dosisPorHectarea:0,unidadMedida:"kg",orden:1},this.actualizarInsumosDisponibles(),this.costoTotal=this.calcularCostoTotal()}eliminarInsumo(o){this.receta.detalles.splice(o,1),this.receta.detalles.forEach((t,l)=>{t.orden=l+1}),this.actualizarInsumosDisponibles(),this.costoTotal=this.calcularCostoTotal()}moverInsumo(o,t){t==="arriba"&&o>0?[this.receta.detalles[o],this.receta.detalles[o-1]]=[this.receta.detalles[o-1],this.receta.detalles[o]]:t==="abajo"&&o<this.receta.detalles.length-1&&([this.receta.detalles[o],this.receta.detalles[o+1]]=[this.receta.detalles[o+1],this.receta.detalles[o]]),this.receta.detalles.forEach((l,a)=>{l.orden=a+1})}calcularCostoTotal(){return this.receta.detalles.reduce((o,t)=>{let l=this.getInsumoCosto(t.insumoId);return o+l*t.dosisPorHectarea},0)}onSubmit(){if(!this.receta.nombre.trim()){this.error="El nombre es requerido";return}if(this.receta.cultivoId===0){this.error="Debes seleccionar un cultivo";return}if(this.receta.detalles.length===0){this.error="Debes agregar al menos un insumo.";return}this.loading=!0,this.error="";let o={cultivoId:this.receta.cultivoId,nombre:this.receta.nombre,descripcion:this.receta.descripcion,etapaCultivo:this.receta.etapaCultivo,detalles:this.receta.detalles.map(t=>({insumoId:t.insumoId,dosisPorHectarea:t.dosisPorHectarea,unidadMedida:t.unidadMedida,orden:t.orden}))};this.isEditMode&&this.receta.id?this.http.put(`${P.apiUrl}/recetas/${this.receta.id}`,o).subscribe({next:()=>{alert("Receta actualizada exitosamente"),this.router.navigate(["/receta"])},error:t=>{console.error("Error:",t),this.error="Error al actualizar la receta.",this.loading=!1}}):this.http.post(`${P.apiUrl}/recetas`,o).subscribe({next:()=>{alert("Receta creada exitosamente"),this.router.navigate(["/receta"])},error:t=>{console.error("Error:",t),this.error="Error al crear la receta.",this.loading=!1}})}onCancel(){this.router.navigate(["/receta"])}static \u0275fac=function(t){return new(t||s)};static \u0275cmp=k({type:s,selectors:[["app-receta-create-edit"]],decls:12,vars:5,consts:[[1,"page-container"],[1,"page-header"],[1,"header-content"],[1,"page-title"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"title-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"page-subtitle"],["class","alert alert-error",4,"ngIf"],["class","loading-card",4,"ngIf"],["class","form-container",3,"ngSubmit",4,"ngIf"],[1,"alert","alert-error"],["fill","currentColor","viewBox","0 0 20 20",1,"alert-icon"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"loading-card"],["fill","none","viewBox","0 0 24 24",1,"loading-spinner"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"loading-text"],[1,"form-container",3,"ngSubmit"],[1,"form-layout"],[1,"form-main"],[1,"form-section"],[1,"section-header"],[1,"section-badge"],[1,"section-title"],[1,"section-body"],[1,"form-group"],["for","nombre",1,"form-label"],[1,"required"],["type","text","id","nombre","name","nombre","placeholder","Ej: Fertilizaci\xF3n Inicial Tomate","required","",1,"form-input",3,"ngModelChange","ngModel"],[1,"form-row"],["for","cultivo",1,"form-label"],[1,"select-wrapper"],["id","cultivo","name","cultivoId","required","",1,"form-select",3,"ngModelChange","ngModel"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"select-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["for","etapa",1,"form-label"],["type","text","id","etapa","name","etapaCultivo","placeholder","Ej: Vegetativa, Floraci\xF3n",1,"form-input",3,"ngModelChange","ngModel"],["for","descripcion",1,"form-label"],["id","descripcion","name","descripcion","rows","3","placeholder","Descripci\xF3n detallada de la receta, objetivos, recomendaciones, etc.",1,"form-textarea",3,"ngModelChange","ngModel"],[1,"section-info"],[1,"section-count"],[1,"add-insumo-card"],[1,"add-insumo-header"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"add-insumo-title"],[1,"add-insumo-body"],[1,"add-insumo-grid"],[1,"form-group","col-span-2"],[1,"form-label"],["name","insumoId",1,"form-select",3,"ngModelChange","ngModel","disabled"],["type","number","name","dosis","min","0","step","0.001","placeholder","0.00",1,"form-input",3,"ngModelChange","ngModel"],["name","unidad",1,"form-select",3,"ngModelChange","ngModel"],["value","kg"],["value","litros"],["value","gramos"],["value","ml"],["type","button",1,"btn-add-insumo",3,"click","disabled"],["class","insumos-list",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"form-sidebar"],[1,"summary-card"],[1,"summary-header"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"],[1,"summary-title"],[1,"summary-body"],[1,"summary-item"],[1,"summary-label"],[1,"summary-value"],[1,"summary-divider"],[1,"summary-total"],[1,"summary-total-label"],[1,"summary-total-value"],[1,"summary-note"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"note-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"note-text"],[1,"actions-card"],["type","button",1,"btn-action","btn-cancel",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],["type","submit",1,"btn-action","btn-submit",3,"disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"insumos-list"],[1,"table-responsive"],[1,"insumos-table"],[1,"th-orden"],[1,"th-insumo"],[1,"th-dosis"],[1,"th-unidad"],[1,"th-costo-unit"],[1,"th-subtotal"],[1,"th-acciones"],["class","table-row",4,"ngFor","ngForOf"],[1,"total-row"],["colspan","5",1,"td-total-label"],["colspan","2",1,"td-total-value"],[1,"table-row"],["data-label","#",1,"td-orden"],["data-label","Insumo",1,"td-insumo"],["data-label","Dosis/ha",1,"td-dosis"],["data-label","Unidad",1,"td-unidad"],["data-label","Costo Unit.",1,"td-costo-unit"],["data-label","Subtotal",1,"td-subtotal"],["data-label","Acciones",1,"td-acciones"],[1,"action-buttons"],["type","button","title","Mover arriba",1,"btn-icon","btn-up",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 15l7-7 7 7"],["type","button","title","Mover abajo",1,"btn-icon","btn-down",3,"click","disabled"],["type","button","title","Eliminar",1,"btn-icon","btn-delete",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"empty-state"],[1,"empty-icon"],["fill","none","stroke","currentColor","viewBox","0 0 24 24"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"],[1,"empty-text"],[1,"empty-hint"]],template:function(t,l){t&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),g(),e(4,"svg",4),m(5,"path",5),n(),i(6),n(),u(),e(7,"p",6),i(8),n()()(),w(9,X,5,1,"div",7)(10,Z,6,0,"div",8)(11,oe,126,20,"form",9),n()),t&2&&(r(6),h(" ",l.isEditMode?"Editar Receta":"Nueva Receta"," "),r(2),v(l.isEditMode?"Modifica la informaci\xF3n de la receta":"Completa la informaci\xF3n para crear una nueva receta"),r(),c("ngIf",l.error),r(),c("ngIf",l.loading),r(),c("ngIf",!l.loading))},dependencies:[z,R,V,J,N,A,q,L,B,U,j,F,K,Y,G,W],styles:[".page-container[_ngcontent-%COMP%]{padding:1rem;max-width:1600px;margin:0 auto;background:#fafafa;min-height:100vh}@media (min-width: 768px){.page-container[_ngcontent-%COMP%]{padding:2rem}}.page-header[_ngcontent-%COMP%]{margin-bottom:2rem;padding:1.5rem;background:#fff;border-radius:16px;box-shadow:0 2px 8px #0000000f}@media (min-width: 768px){.page-header[_ngcontent-%COMP%]{padding:2rem}}.header-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.page-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:#111827;margin:0;display:flex;align-items:center;gap:.75rem;letter-spacing:-.025em}@media (min-width: 768px){.page-title[_ngcontent-%COMP%]{font-size:2rem}}.title-icon[_ngcontent-%COMP%]{width:28px;height:28px;color:#1a7f5a;flex-shrink:0}@media (min-width: 768px){.title-icon[_ngcontent-%COMP%]{width:36px;height:36px}}.page-subtitle[_ngcontent-%COMP%]{font-size:.9rem;color:#6b7280;margin:0}@media (min-width: 768px){.page-subtitle[_ngcontent-%COMP%]{font-size:1rem}}.alert[_ngcontent-%COMP%]{padding:1rem 1.25rem;border-radius:12px;margin-bottom:1.5rem;display:flex;align-items:flex-start;gap:.75rem;font-weight:500;font-size:.9rem;animation:_ngcontent-%COMP%_slideDown .3s ease}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.alert-icon[_ngcontent-%COMP%]{width:20px;height:20px;flex-shrink:0;margin-top:2px}@media (min-width: 768px){.alert[_ngcontent-%COMP%]{font-size:1rem}.alert-icon[_ngcontent-%COMP%]{width:24px;height:24px}}.alert-error[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef2f2,#fee2e2);color:#991b1b;border:1px solid #fca5a5;border-left:5px solid #dc2626}.loading-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:3rem 2rem;text-align:center;box-shadow:0 2px 8px #0000000f}@media (min-width: 768px){.loading-card[_ngcontent-%COMP%]{padding:4rem 2rem}}.loading-spinner[_ngcontent-%COMP%]{width:48px;height:48px;margin:0 auto 1rem;color:#1a7f5a;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-text[_ngcontent-%COMP%]{font-size:1rem;color:#6b7280;margin:0}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.form-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:2rem}@media (min-width: 1024px){.form-layout[_ngcontent-%COMP%]{grid-template-columns:1fr 380px}}.form-main[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.form-sidebar[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}@media (min-width: 1024px){.form-sidebar[_ngcontent-%COMP%]{position:sticky;top:2rem;align-self:flex-start}}.form-section[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 2px 8px #0000000f;overflow:hidden}.section-header[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;background:linear-gradient(135deg,#f9fafb,#f3f4f6);border-bottom:2px solid #e5e7eb;display:flex;align-items:center;gap:1rem}@media (min-width: 768px){.section-header[_ngcontent-%COMP%]{padding:1.5rem 2rem}}.section-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex-wrap:wrap;flex:1}.section-badge[_ngcontent-%COMP%]{width:36px;height:36px;background:linear-gradient(135deg,#1a7f5a,#166649);color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:800;font-size:1rem;flex-shrink:0;box-shadow:0 4px 12px #1a7f5a4d}@media (min-width: 768px){.section-badge[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.1rem}}.section-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#111827;margin:0}@media (min-width: 768px){.section-title[_ngcontent-%COMP%]{font-size:1.25rem}}.section-count[_ngcontent-%COMP%]{padding:.4rem .85rem;background:#dbeafe;color:#1e40af;border-radius:999px;font-size:.75rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em}.section-body[_ngcontent-%COMP%]{padding:1.5rem}@media (min-width: 768px){.section-body[_ngcontent-%COMP%]{padding:2rem}}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1.5rem}@media (min-width: 640px){.form-row[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.form-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#374151;display:flex;align-items:center;gap:.25rem}.required[_ngcontent-%COMP%]{color:#dc2626;font-weight:700}.form-input[_ngcontent-%COMP%], .form-textarea[_ngcontent-%COMP%]{width:100%;padding:.85rem 1rem;border:1.5px solid #d1d5db;border-radius:10px;font-size:.95rem;transition:all .25s ease;background:#fff;font-family:inherit}.form-input[_ngcontent-%COMP%]:hover, .form-textarea[_ngcontent-%COMP%]:hover{border-color:#9ca3af}.form-input[_ngcontent-%COMP%]:focus, .form-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#1a7f5a;box-shadow:0 0 0 3px #1a7f5a1f}.form-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:100px;line-height:1.6}.select-wrapper[_ngcontent-%COMP%]{position:relative}.form-select[_ngcontent-%COMP%]{width:100%;padding:.85rem 3rem .85rem 1rem;border:1.5px solid #d1d5db;border-radius:10px;font-size:.95rem;transition:all .25s ease;background:#fff;font-family:inherit;appearance:none;cursor:pointer}.form-select[_ngcontent-%COMP%]:hover{border-color:#9ca3af}.form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#1a7f5a;box-shadow:0 0 0 3px #1a7f5a1f}.form-select[_ngcontent-%COMP%]:disabled{background:#f3f4f6;cursor:not-allowed;opacity:.6}.select-icon[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%);width:20px;height:20px;color:#9ca3af;pointer-events:none}.add-insumo-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f9fafb,#f3f4f6);border-radius:12px;border:2px dashed #d1d5db;overflow:hidden;margin-bottom:2rem}.add-insumo-header[_ngcontent-%COMP%]{padding:1rem 1.25rem;background:#1a7f5a0d;border-bottom:1px solid #e5e7eb;display:flex;align-items:center;gap:.5rem;color:#1a7f5a}.add-insumo-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;margin:0}.add-insumo-body[_ngcontent-%COMP%]{padding:1.5rem}.add-insumo-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1.25rem;margin-bottom:1.25rem}@media (min-width: 640px){.add-insumo-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 768px){.add-insumo-grid[_ngcontent-%COMP%]{grid-template-columns:2fr 1fr 1fr}}.col-span-2[_ngcontent-%COMP%]{grid-column:span 1}@media (min-width: 768px){.col-span-2[_ngcontent-%COMP%]{grid-column:span 2}}.btn-add-insumo[_ngcontent-%COMP%]{width:100%;background:linear-gradient(135deg,#1a7f5a,#166649);color:#fff;border:none;padding:1rem 1.5rem;border-radius:10px;font-weight:600;font-size:.95rem;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:.5rem;transition:all .2s ease;box-shadow:0 4px 12px #1a7f5a4d}.btn-add-insumo[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#166649,#0f5c41);transform:translateY(-2px);box-shadow:0 6px 16px #1a7f5a66}.btn-add-insumo[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.insumos-list[_ngcontent-%COMP%]{margin-bottom:1.5rem}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.insumos-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;min-width:800px}.insumos-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a7f5a,#166649)}.insumos-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1rem;text-align:left;font-weight:700;font-size:.75rem;color:#fff;text-transform:uppercase;letter-spacing:.05em;white-space:nowrap}@media (min-width: 768px){.insumos-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1rem 1.25rem;font-size:.8rem}}.insumos-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #f3f4f6;font-size:.9rem}@media (min-width: 768px){.insumos-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1.25rem;font-size:.95rem}}.table-row[_ngcontent-%COMP%]{transition:all .2s ease}.table-row[_ngcontent-%COMP%]:hover{background:#f9fafb}.td-orden[_ngcontent-%COMP%]{font-weight:700;color:#1a7f5a}.td-insumo[_ngcontent-%COMP%]{color:#111827}.td-costo-unit[_ngcontent-%COMP%], .td-subtotal[_ngcontent-%COMP%]{text-align:right;font-variant-numeric:tabular-nums}.td-subtotal[_ngcontent-%COMP%]{color:#059669}.td-acciones[_ngcontent-%COMP%]{white-space:nowrap}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:flex-end}.btn-icon[_ngcontent-%COMP%]{padding:.5rem;border:none;border-radius:6px;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;transition:all .2s ease;background:#f3f4f6;color:#374151}.btn-icon[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px)}.btn-icon[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed;transform:none}.btn-up[_ngcontent-%COMP%]:hover:not(:disabled){background:#dbeafe;color:#1e40af}.btn-down[_ngcontent-%COMP%]:hover:not(:disabled){background:#dbeafe;color:#1e40af}.btn-delete[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.btn-delete[_ngcontent-%COMP%]:hover{background:#fecaca;box-shadow:0 2px 8px #991b1b33}.insumos-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a)}.total-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1.25rem 1rem;border-top:3px solid #fbbf24;font-size:1rem}@media (min-width: 768px){.total-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1.5rem 1.25rem;font-size:1.1rem}}.td-total-label[_ngcontent-%COMP%]{font-weight:700;color:#92400e}.td-total-value[_ngcontent-%COMP%]{text-align:right;font-weight:800;font-size:1.25rem;color:#d97706;font-variant-numeric:tabular-nums}@media (min-width: 768px){.td-total-value[_ngcontent-%COMP%]{font-size:1.5rem}}@media (max-width: 767px){.insumos-table[_ngcontent-%COMP%]{min-width:100%}.insumos-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.insumos-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:block;margin-bottom:1rem;border:1px solid #e5e7eb;border-radius:12px;padding:1rem}.insumos-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.75rem 0;border-bottom:1px solid #f3f4f6}.insumos-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-bottom:none}.insumos-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);font-weight:600;color:#6b7280}.td-acciones[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.action-buttons[_ngcontent-%COMP%]{justify-content:stretch;gap:.5rem}.btn-icon[_ngcontent-%COMP%]{flex:1}.total-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border-top:2px solid #fbbf24;padding-top:1rem;margin-top:.5rem}}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem;background:#f9fafb;border-radius:12px;border:2px dashed #d1d5db}@media (min-width: 768px){.empty-state[_ngcontent-%COMP%]{padding:4rem 2rem}}.empty-icon[_ngcontent-%COMP%]{width:64px;height:64px;margin:0 auto 1.5rem;color:#d1d5db}@media (min-width: 768px){.empty-icon[_ngcontent-%COMP%]{width:80px;height:80px}}.empty-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%}.empty-text[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#374151;margin:0 0 .5rem}@media (min-width: 768px){.empty-text[_ngcontent-%COMP%]{font-size:1.1rem}}.empty-hint[_ngcontent-%COMP%]{font-size:.9rem;color:#6b7280;margin:0}.summary-card[_ngcontent-%COMP%], .actions-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 2px 8px #0000000f;overflow:hidden}.summary-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a7f5a,#166649);color:#fff}.summary-header[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-bottom:1px solid rgba(255,255,255,.2);display:flex;align-items:center;gap:.5rem}.summary-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;margin:0;color:#fff}@media (min-width: 768px){.summary-title[_ngcontent-%COMP%]{font-size:1.1rem}}.summary-body[_ngcontent-%COMP%]{padding:1.5rem}.summary-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.summary-label[_ngcontent-%COMP%]{font-size:.9rem;opacity:.9;font-weight:500}.summary-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;letter-spacing:-.025em}.summary-divider[_ngcontent-%COMP%]{height:1px;background:#fff3;margin:1rem 0}.summary-total[_ngcontent-%COMP%]{padding:1rem 1.25rem;background:#ffffff26;border-radius:12px;display:flex;flex-direction:column;gap:.5rem;margin-bottom:1rem}.summary-total-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;opacity:.95}.summary-total-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:900;letter-spacing:-.025em}@media (min-width: 768px){.summary-total-value[_ngcontent-%COMP%]{font-size:2.25rem}}.summary-note[_ngcontent-%COMP%]{background:#ffffff1a;padding:1rem;border-radius:10px;display:flex;gap:.75rem}.note-icon[_ngcontent-%COMP%]{width:20px;height:20px;flex-shrink:0;opacity:.9}.note-text[_ngcontent-%COMP%]{font-size:.85rem;line-height:1.6;margin:0;opacity:.9}.actions-card[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;gap:1rem}.btn-action[_ngcontent-%COMP%]{padding:1rem 1.5rem;border:none;border-radius:12px;font-weight:600;font-size:1rem;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:.5rem;transition:all .2s ease}.btn-action[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px)}.btn-action[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.btn-cancel[_ngcontent-%COMP%]{background:#f3f4f6;color:#374151;box-shadow:0 2px 8px #0000000f}.btn-cancel[_ngcontent-%COMP%]:hover{background:#e5e7eb;box-shadow:0 4px 12px #0000001a}.btn-submit[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a7f5a,#166649);color:#fff;box-shadow:0 4px 12px #1a7f5a4d}.btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#166649,#0f5c41);box-shadow:0 6px 16px #1a7f5a66}.w-4[_ngcontent-%COMP%]{width:1rem;height:1rem}.w-5[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}"]})};export{Q as RecetaCreateEditComponent};
