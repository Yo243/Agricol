import{a as xe}from"./chunk-2F5RLYLV.js";import{e as fe,g as be}from"./chunk-YAFIELCV.js";import{b as ve,d as Ce,g as _e,t as Me}from"./chunk-B4I6E7XD.js";import{$a as O,Eb as de,Fb as m,Ga as D,Gb as le,Ha as ee,Ka as _,L as G,M as Z,P as B,Q as M,Ra as u,Sa as n,Ta as a,Ua as p,Ub as ce,V as U,Vb as pe,W,Wb as me,X as h,Xa as te,Y as g,Z as $,Zb as he,_a as ne,bb as C,bc as ge,ca as X,cb as T,db as L,dc as P,ea as Q,eb as F,ec as ue,fb as oe,gb as ae,hb as ie,ib as re,kb as s,la as Y,lb as v,mb as k,pb as j,qa as d,qb as H,rb as V,tb as se,wa as q,wb as I,xa as J,xb as E,ya as K}from"./chunk-PCLR6J3H.js";import{e as w}from"./chunk-FDERIQAA.js";var De=["chart"],Pe=(()=>{let o=class o{constructor(){this.chart=m(),this.annotations=m(),this.colors=m(),this.dataLabels=m(),this.series=m(),this.stroke=m(),this.labels=m(),this.legend=m(),this.markers=m(),this.noData=m(),this.parsing=m(),this.fill=m(),this.tooltip=m(),this.plotOptions=m(),this.responsive=m(),this.xaxis=m(),this.yaxis=m(),this.forecastDataPoints=m(),this.grid=m(),this.states=m(),this.title=m(),this.subtitle=m(),this.theme=m(),this.autoUpdateSeries=m(!0),this.chartReady=de(),this.chartInstance=X(null),this.chartElement=le.required("chart"),this.ngZone=M(q),this.isBrowser=ge(M(Y)),this._destroyed=!1,this._injector=M($),this.waitingForConnectedRef=null}ngOnChanges(t){this.isBrowser&&this.hydrate(t)}ngOnDestroy(){this.destroy(),this._destroyed=!0}get isConnected(){return this.chartElement()?.nativeElement.isConnected}hydrate(t){if(this.waitingForConnectedRef)return;if(this.chartInstance()&&this.autoUpdateSeries()&&Object.keys(t).filter(c=>c!=="series").length===0){this.updateSeries(this.series(),!0);return}K({read:()=>this.createElement()},{injector:this._injector})}createElement(){return w(this,null,function*(){let{default:t}=yield import("./chunk-HXALNZ2F.js");if(window.ApexCharts||=t,this._destroyed)return;if(!this.isConnected){this.waitForConnected();return}let r={};["annotations","chart","colors","dataLabels","series","stroke","labels","legend","fill","tooltip","plotOptions","responsive","markers","noData","parsing","xaxis","yaxis","forecastDataPoints","grid","states","title","subtitle","theme"].forEach(b=>{let x=this[b]();x&&(r[b]=x)}),this.destroy();let f=this.ngZone.runOutsideAngular(()=>new t(this.chartElement().nativeElement,r));this.chartInstance.set(f),this.render(),this.chartReady.emit({chartObj:f})})}render(){if(this.isConnected)return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.render());this.waitForConnected()}updateOptions(t,r,c,f){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateOptions(t,r,c,f))}updateSeries(t,r){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateSeries(t,r))}appendSeries(t,r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendSeries(t,r))}appendData(t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendData(t))}highlightSeries(t){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.highlightSeries(t))}toggleSeries(t){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleSeries(t))}showSeries(t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.showSeries(t))}hideSeries(t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.hideSeries(t))}resetSeries(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.resetSeries())}zoomX(t,r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.zoomX(t,r))}toggleDataPointSelection(t,r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleDataPointSelection(t,r))}destroy(){this.chartInstance()?.destroy(),this.chartInstance.set(null)}setLocale(t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.setLocale(t))}paper(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.paper())}addXaxisAnnotation(t,r,c){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addXaxisAnnotation(t,r,c))}addYaxisAnnotation(t,r,c){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addYaxisAnnotation(t,r,c))}addPointAnnotation(t,r,c){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addPointAnnotation(t,r,c))}removeAnnotation(t,r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.removeAnnotation(t,r))}clearAnnotations(t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.clearAnnotations(t))}dataURI(t){return this.chartInstance()?.dataURI(t)}waitForConnected(){this.waitingForConnectedRef||(this.waitingForConnectedRef=J({read:()=>{this.isConnected&&(this.waitingForConnectedRef.destroy(),this.waitingForConnectedRef=null,this.createElement())}},{injector:this._injector}))}};o.\u0275fac=function(r){return new(r||o)},o.\u0275cmp=D({type:o,selectors:[["apx-chart"]],viewQuery:function(r,c){r&1&&oe(c.chartElement,De,5),r&2&&ae()},inputs:{chart:[1,"chart"],annotations:[1,"annotations"],colors:[1,"colors"],dataLabels:[1,"dataLabels"],series:[1,"series"],stroke:[1,"stroke"],labels:[1,"labels"],legend:[1,"legend"],markers:[1,"markers"],noData:[1,"noData"],parsing:[1,"parsing"],fill:[1,"fill"],tooltip:[1,"tooltip"],plotOptions:[1,"plotOptions"],responsive:[1,"responsive"],xaxis:[1,"xaxis"],yaxis:[1,"yaxis"],forecastDataPoints:[1,"forecastDataPoints"],grid:[1,"grid"],states:[1,"states"],title:[1,"title"],subtitle:[1,"subtitle"],theme:[1,"theme"],autoUpdateSeries:[1,"autoUpdateSeries"]},outputs:{chartReady:"chartReady"},features:[Q],decls:2,vars:0,consts:[["chart",""]],template:function(r,c){r&1&&te(0,"div",null,0)},encapsulation:2,changeDetection:0});let i=o;return i})();var we=(()=>{let o=class o{};o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=ee({type:o}),o.\u0275inj=Z({});let i=o;return i})();var A=class i{constructor(o){this.http=o}apiUrl=`${xe.apiUrl}/reportes`;getDashboard(o,e){let t=new P;return o&&(t=t.set("fechaInicio",o)),e&&(t=t.set("fechaFin",e)),this.http.get(`${this.apiUrl}/dashboard`,{params:t})}getConsumoPorCultivo(o,e){let t=new P;return o&&(t=t.set("fechaInicio",o)),e&&(t=t.set("fechaFin",e)),this.http.get(`${this.apiUrl}/consumo-cultivo`,{params:t})}getConsumoPorParcela(o){let e=new P;return o&&(e=e.set("parcelaId",o.toString())),this.http.get(`${this.apiUrl}/consumo-parcela`,{params:e})}getCostos(o,e,t="mes"){let r=new P().set("fechaInicio",o).set("fechaFin",e).set("agruparPor",t);return this.http.get(`${this.apiUrl}/costos`,{params:r})}getCostosPorHectarea(o){let e=new P().set("periodoId",o.toString());return this.http.get(`${this.apiUrl}/costos-hectarea`,{params:e})}getTrazabilidadParcela(o){return this.http.get(`${this.apiUrl}/trazabilidad/${o}`)}getAlertas(){return this.http.get(`${this.apiUrl}/alertas`)}static \u0275fac=function(e){return new(e||i)(B(ue))};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})};var Ie=["chartConsumo"],Ee=["chartCostos"],Ae=i=>["/periodos-siembra",i];function Re(i,o){i&1&&(n(0,"div",30),h(),n(1,"svg",31),p(2,"circle",32)(3,"path",33),a(),g(),n(4,"p",34),s(5,"Cargando datos..."),a()())}function ze(i,o){if(i&1){let e=ne();n(0,"div",35),h(),n(1,"svg",36),p(2,"path",37),a(),g(),n(3,"p",38),s(4),a(),n(5,"button",39),O("click",function(){U(e);let r=C();return W(r.loadDashboardData())}),h(),n(6,"svg",10),p(7,"path",40),a(),g(),n(8,"span"),s(9,"Reintentar"),a()()()}if(i&2){let e=C();d(4),v(e.errorMessage)}}function Te(i,o){if(i&1&&(n(0,"div",45)(1,"div",46)(2,"div",47),h(),n(3,"svg",48),p(4,"path",49),a()(),g(),n(5,"div",50)(6,"span",51),s(7,"Parcelas Activas"),a(),n(8,"span",52),s(9),a()()(),n(10,"div",53)(11,"div",47),h(),n(12,"svg",48),p(13,"path",54),a()(),g(),n(14,"div",50)(15,"span",51),s(16,"Hect\xE1reas Totales"),a(),n(17,"span",52),s(18),a()()(),n(19,"div",55)(20,"div",47),h(),n(21,"svg",48),p(22,"path",56),a()(),g(),n(23,"div",50)(24,"span",51),s(25,"Cultivos Activos"),a(),n(26,"span",52),s(27),a()()(),n(28,"div",57)(29,"div",47),h(),n(30,"svg",48),p(31,"path",58),a()(),g(),n(32,"div",50)(33,"span",51),s(34,"Costo Total Acumulado"),a(),n(35,"span",59),s(36),a()()()()),i&2){let e=C(2);d(9),v(e.dashboardData.resumenGeneral.totalParcelas||0),d(9),v((e.dashboardData.resumenGeneral.hectareasTotales||0).toFixed(1)),d(9),v(e.dashboardData.resumenGeneral.cultivosActivos||0),d(9),k("$",(e.dashboardData.resumenGeneral.costoTotalAcumulado||0).toLocaleString("es-MX"))}}function Le(i,o){if(i&1&&p(0,"apx-chart",67),i&2){let e=C(3);u("series",e.chartConsumoOptions.series)("chart",e.chartConsumoOptions.chart)("xaxis",e.chartConsumoOptions.xaxis)("yaxis",e.chartConsumoOptions.yaxis)("dataLabels",e.chartConsumoOptions.dataLabels)("title",e.chartConsumoOptions.title)("colors",e.chartConsumoOptions.colors)("plotOptions",e.chartConsumoOptions.plotOptions)("tooltip",e.chartConsumoOptions.tooltip)}}function Fe(i,o){if(i&1&&p(0,"apx-chart",68),i&2){let e=C(3);u("series",e.chartCostosOptions.series)("chart",e.chartCostosOptions.chart)("xaxis",e.chartCostosOptions.xaxis)("yaxis",e.chartCostosOptions.yaxis)("stroke",e.chartCostosOptions.stroke)("dataLabels",e.chartCostosOptions.dataLabels)("title",e.chartCostosOptions.title)("colors",e.chartCostosOptions.colors)("fill",e.chartCostosOptions.fill)("tooltip",e.chartCostosOptions.tooltip)}}function je(i,o){if(i&1&&(n(0,"div",60)(1,"div",61)(2,"div",62)(3,"h3",63),s(4,"Consumo de Insumos"),a()(),n(5,"div",64),_(6,Le,1,9,"apx-chart",65),a()(),n(7,"div",61)(8,"div",62)(9,"h3",63),s(10,"Evoluci\xF3n de Costos"),a()(),n(11,"div",64),_(12,Fe,1,10,"apx-chart",66),a()()()),i&2){let e=C(2);d(6),u("ngIf",e.chartConsumoOptions.series),d(6),u("ngIf",e.chartCostosOptions.series)}}function He(i,o){i&1&&(n(0,"div",78),h(),n(1,"svg",79),p(2,"path",56),a(),g(),n(3,"h3",80),s(4,"No hay per\xEDodos de siembra activos"),a(),n(5,"p",81),s(6,"Inicia un nuevo per\xEDodo para comenzar a dar seguimiento a tus cultivos"),a(),n(7,"button",82),h(),n(8,"svg",16),p(9,"path",75),a(),g(),n(10,"span"),s(11,"Crear Primer Per\xEDodo"),a()()())}function Ve(i,o){if(i&1&&(n(0,"div",85)(1,"div",86)(2,"h3",87),s(3),a(),n(4,"span",88),s(5),a()(),n(6,"div",89)(7,"div",90)(8,"span",91),s(9,"Parcela:"),a(),n(10,"span",92),s(11),a()(),n(12,"div",90)(13,"span",91),s(14,"Hect\xE1reas:"),a(),n(15,"span",92),s(16),a()(),n(17,"div",90)(18,"span",91),s(19,"Fecha Siembra:"),a(),n(20,"span",92),s(21),I(22,"date"),a()(),n(23,"div",90)(24,"span",91),s(25,"Cosecha Esperada:"),a(),n(26,"span",92),s(27),I(28,"date"),a()()(),n(29,"div",93)(30,"div",94)(31,"span",95),s(32,"Progreso"),a(),n(33,"span",96),s(34),a()(),n(35,"div",97),p(36,"div",98),a()(),n(37,"button",99),h(),n(38,"svg",10),p(39,"path",100)(40,"path",101),a(),g(),n(41,"span"),s(42,"Ver Detalle"),a()()()),i&2){let e=o.$implicit;d(3),v(e.cultivo),d(2),v(e.estado),d(6),v(e.parcela),d(5),k("",e.hectareas," ha"),d(5),v(E(22,10,e.fechaInicio,"dd/MM/yyyy")),d(6),v(E(28,13,e.fechaCosechaEsperada,"dd/MM/yyyy")),d(7),k("",e.progreso,"%"),d(2),ie("width",e.progreso,"%"),d(),u("routerLink",se(16,Ae,e.id))}}function Ne(i,o){if(i&1&&(n(0,"div",83),_(1,Ve,43,18,"div",84),a()),i&2){let e=C(3);d(),u("ngForOf",e.dashboardData.periodosActivos)}}function Ge(i,o){if(i&1&&(n(0,"div",69)(1,"div",70)(2,"div",71),h(),n(3,"svg",72),p(4,"path",56),a(),g(),n(5,"h2",73),s(6,"Per\xEDodos de Siembra Activos"),a()(),n(7,"button",74),h(),n(8,"svg",10),p(9,"path",75),a(),g(),n(10,"span"),s(11,"Nuevo Per\xEDodo"),a()()(),_(12,He,12,0,"div",76)(13,Ne,2,1,"div",77),a()),i&2){let e=C(2);d(12),u("ngIf",!e.dashboardData.periodosActivos||e.dashboardData.periodosActivos.length===0),d(),u("ngIf",e.dashboardData.periodosActivos&&e.dashboardData.periodosActivos.length>0)}}function Ze(i,o){i&1&&(h(),n(0,"svg",111),p(1,"path",112),a())}function Be(i,o){i&1&&(h(),n(0,"svg",111),p(1,"path",113),a())}function Ue(i,o){i&1&&(h(),n(0,"svg",111),p(1,"path",114),a())}function We(i,o){if(i&1&&(n(0,"div",105)(1,"div",106),_(2,Ze,2,0,"svg",107)(3,Be,2,0,"svg",107)(4,Ue,2,0,"svg",107),a(),n(5,"div",108)(6,"p",109),s(7),a(),n(8,"span",110),s(9),I(10,"date"),a()()()),i&2){let e=o.$implicit;re("alerta-critica",e.prioridad==="alta")("alerta-media",e.prioridad==="media"),d(2),u("ngIf",e.tipo==="stock"),d(),u("ngIf",e.tipo==="vencimiento"),d(),u("ngIf",e.tipo==="aplicacion"),d(3),v(e.mensaje),d(2),v(E(10,9,e.fecha,"dd/MM/yyyy HH:mm"))}}function $e(i,o){if(i&1&&(n(0,"div",69)(1,"div",70)(2,"div",71),h(),n(3,"svg",72),p(4,"path",102),a(),g(),n(5,"h2",73),s(6,"Alertas Recientes"),a()()(),n(7,"div",103),_(8,We,11,12,"div",104),a()()),i&2){let e=C(2);d(8),u("ngForOf",e.dashboardData.alertas)}}function Xe(i,o){if(i&1&&(n(0,"div",41),_(1,Te,37,4,"div",42)(2,je,13,2,"div",43)(3,Ge,14,2,"div",44)(4,$e,9,1,"div",44),a()),i&2){let e=C();d(),u("ngIf",e.dashboardData.resumenGeneral),d(),u("ngIf",e.chartConsumoOptions.series&&e.chartCostosOptions.series),d(),u("ngIf",e.dashboardData.periodosActivos),d(),u("ngIf",e.dashboardData.alertas&&e.dashboardData.alertas.length>0)}}var ye=class i{chartConsumo;chartCostos;reportesService=M(A);dashboardData=null;loading=!0;errorMessage="";fechaInicio="";fechaFin="";chartConsumoOptions={};chartCostosOptions={};constructor(){this.initDateFilters()}ngOnInit(){this.loadDashboardData()}initDateFilters(){let o=new Date,e=new Date;e.setMonth(o.getMonth()-3),this.fechaInicio=e.toISOString().split("T")[0],this.fechaFin=o.toISOString().split("T")[0]}loadDashboardData(){this.loading=!0,this.errorMessage="",this.reportesService.getDashboard(this.fechaInicio,this.fechaFin).subscribe({next:o=>{this.dashboardData=o,this.initCharts(),this.loading=!1},error:o=>{console.error("Error al cargar dashboard:",o),this.errorMessage="Error al cargar los datos del dashboard. Por favor, intente nuevamente.",this.loading=!1}})}initCharts(){this.dashboardData&&(this.initConsumoChart(),this.initCostosChart())}initConsumoChart(){if(!this.dashboardData||this.dashboardData.consumoPorCultivo.length===0)return;let o=this.dashboardData.consumoPorCultivo.map(t=>t.cultivo),e=this.dashboardData.consumoPorCultivo.map(t=>t.cantidad);this.chartConsumoOptions={series:[{name:"Cantidad Consumida",data:e}],chart:{type:"bar",height:350,toolbar:{show:!0,tools:{download:!0,selection:!1,zoom:!1,zoomin:!1,zoomout:!1,pan:!1,reset:!1}},animations:{enabled:!0,speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}}},plotOptions:{bar:{borderRadius:8,dataLabels:{position:"top"},columnWidth:"60%"}},dataLabels:{enabled:!0,formatter:function(t){return t.toFixed(1)},offsetY:-20,style:{fontSize:"11px",fontWeight:"600",colors:["#374151"]}},xaxis:{categories:o,position:"bottom",axisBorder:{show:!1},axisTicks:{show:!1},labels:{style:{fontSize:"12px",fontWeight:"500"}}},yaxis:{title:{text:"Cantidad Total",style:{fontSize:"12px",fontWeight:"600",color:"#6b7280"}},labels:{formatter:function(t){return t.toFixed(0)},style:{fontSize:"11px"}}},title:{text:"",align:"left",style:{fontSize:"14px",fontWeight:"600",color:"#111827"}},colors:["#1a7f5a"],tooltip:{y:{formatter:function(t){return t.toFixed(2)}},theme:"light",style:{fontSize:"12px"}},legend:{show:!1},stroke:{show:!0,width:2,colors:["transparent"]},fill:{opacity:1},responsive:[{breakpoint:768,options:{chart:{height:300},plotOptions:{bar:{columnWidth:"80%"}}}}]}}initCostosChart(){if(!this.dashboardData||this.dashboardData.costosPorMes.length===0)return;let o=this.dashboardData.costosPorMes.map(t=>t.mes),e=this.dashboardData.costosPorMes.map(t=>t.costo);this.chartCostosOptions={series:[{name:"Costos Mensuales",data:e}],chart:{type:"area",height:350,toolbar:{show:!0,tools:{download:!0,selection:!1,zoom:!1,zoomin:!1,zoomout:!1,pan:!1,reset:!1}},animations:{enabled:!0,speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}}},stroke:{curve:"smooth",width:3},dataLabels:{enabled:!1,style:{fontSize:"12px",fontWeight:"600"}},xaxis:{categories:o,title:{text:"Per\xEDodo",style:{fontSize:"12px",fontWeight:"600",color:"#6b7280"}},labels:{style:{fontSize:"11px",fontWeight:"500"}}},yaxis:{title:{text:"Costo ($)",style:{fontSize:"12px",fontWeight:"600",color:"#6b7280"}},labels:{formatter:function(t){return"$"+t.toLocaleString("es-MX",{maximumFractionDigits:0})},style:{fontSize:"11px"}}},title:{text:"",align:"left",style:{fontSize:"14px",fontWeight:"600",color:"#111827"}},colors:["#10b981"],fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.5,opacityTo:.1,stops:[0,90,100]}},tooltip:{y:{formatter:function(t){return"$"+t.toLocaleString("es-MX",{minimumFractionDigits:2,maximumFractionDigits:2})}},theme:"light",style:{fontSize:"12px"}},legend:{show:!1},plotOptions:{},responsive:[{breakpoint:768,options:{chart:{height:300}}}]}}aplicarFiltros(){if(!this.fechaInicio||!this.fechaFin){alert("Por favor seleccione ambas fechas");return}let o=new Date(this.fechaInicio),e=new Date(this.fechaFin);if(o>e){alert("La fecha de inicio debe ser anterior a la fecha de fin");return}this.loadDashboardData()}limpiarFiltros(){this.initDateFilters(),this.loadDashboardData()}exportarPDF(){return w(this,null,function*(){try{let o=yield import("./chunk-WCCFVT34.js"),e=yield import("./chunk-KFVPZZ6B.js"),t=o.default,r=e.default,c=document.querySelector(".dashboard-container");if(!c){alert("No se pudo encontrar el contenido para exportar");return}let f=document.body.style.cursor;document.body.style.cursor="wait";let b=yield r(c,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#fafafa"}),x=b.toDataURL("image/png"),l=new t({orientation:"p",unit:"mm",format:"a4"}),R=210,N=297,y=b.height*R/b.width,S=y,z=0;for(l.addImage(x,"PNG",0,z,R,y),S-=N;S>=0;)z=S-y,l.addPage(),l.addImage(x,"PNG",0,z,R,y),S-=N;let Se=new Date().toISOString().split("T")[0];l.save(`dashboard-agricol-${Se}.pdf`),document.body.style.cursor=f}catch(o){console.error("Error al generar PDF:",o),alert("Error al generar el PDF. Aseg\xFArese de tener instalados jspdf y html2canvas: npm install jspdf html2canvas")}})}exportarExcel(){return w(this,null,function*(){try{let o=yield import("./chunk-42U4V45O.js");if(!this.dashboardData){alert("No hay datos para exportar");return}let e=o.utils.book_new(),t=[["DASHBOARD AGRICOL - RESUMEN GENERAL"],[],["Per\xEDodo",`${this.fechaInicio} hasta ${this.fechaFin}`],[],["M\xE9trica","Valor"],["Total Parcelas",this.dashboardData.resumenGeneral.totalParcelas],["Hect\xE1reas Totales",this.dashboardData.resumenGeneral.hectareasTotales],["Cultivos Activos",this.dashboardData.resumenGeneral.cultivosActivos],["Costo Total Acumulado",this.dashboardData.resumenGeneral.costoTotalAcumulado]],r=o.utils.aoa_to_sheet(t);if(o.utils.book_append_sheet(e,r,"Resumen"),this.dashboardData.consumoPorCultivo.length>0){let f=[["Cultivo","Cantidad","Unidad","Costo"]],b=this.dashboardData.consumoPorCultivo.map(l=>[l.cultivo,l.cantidad,l.unidad,l.costo]),x=o.utils.aoa_to_sheet([...f,...b]);o.utils.book_append_sheet(e,x,"Consumo por Cultivo")}if(this.dashboardData.costosPorMes.length>0){let f=[["Mes","Costo","Aplicaciones"]],b=this.dashboardData.costosPorMes.map(l=>[l.mes,l.costo,l.aplicaciones]),x=o.utils.aoa_to_sheet([...f,...b]);o.utils.book_append_sheet(e,x,"Costos Mensuales")}if(this.dashboardData.periodosActivos.length>0){let f=[["C\xF3digo","Cultivo","Parcela","Hect\xE1reas","Fecha Inicio","Cosecha Esperada","Estado","Progreso","Costo Total"]],b=this.dashboardData.periodosActivos.map(l=>[l.codigo,l.cultivo,l.parcela,l.hectareas,l.fechaInicio,l.fechaCosechaEsperada,l.estado,`${l.progreso}%`,l.costoTotal]),x=o.utils.aoa_to_sheet([...f,...b]);o.utils.book_append_sheet(e,x,"Per\xEDodos Activos")}if(this.dashboardData.alertas.length>0){let f=[["Tipo","Prioridad","Mensaje","Fecha"]],b=this.dashboardData.alertas.map(l=>[l.tipo,l.prioridad,l.mensaje,l.fecha]),x=o.utils.aoa_to_sheet([...f,...b]);o.utils.book_append_sheet(e,x,"Alertas")}let c=new Date().toISOString().split("T")[0];o.writeFile(e,`dashboard-agricol-${c}.xlsx`)}catch(o){console.error("Error al generar Excel:",o),alert("Error al generar el archivo Excel. Aseg\xFArese de tener instalado xlsx: npm install xlsx")}})}recargarDatos(){this.loadDashboardData()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=D({type:i,selectors:[["app-reportes-dashboard"]],viewQuery:function(e,t){if(e&1&&(T(Ie,5),T(Ee,5)),e&2){let r;L(r=F())&&(t.chartConsumo=r.first),L(r=F())&&(t.chartCostos=r.first)}},decls:50,vars:5,consts:[[1,"dashboard-container"],[1,"page-header"],[1,"header-content"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"header-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],[1,"header-text"],[1,"page-title"],[1,"page-subtitle"],[1,"header-actions"],[1,"btn-export","btn-excel",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"btn-export","btn-pdf",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"],[1,"filters-card"],[1,"filters-header"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"],[1,"filters-content"],[1,"filter-group"],[1,"filter-label"],["type","date",1,"filter-input",3,"ngModelChange","ngModel"],[1,"filter-actions"],[1,"btn-filter","btn-clear",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"btn-filter","btn-apply",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["class","loading-container",4,"ngIf"],["class","error-card",4,"ngIf"],["class","dashboard-content",4,"ngIf"],[1,"loading-container"],["fill","none","viewBox","0 0 24 24",1,"loading-spinner"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"loading-text"],[1,"error-card"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"error-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"error-message"],[1,"btn-error-retry",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"dashboard-content"],["class","stats-grid",4,"ngIf"],["class","charts-container",4,"ngIf"],["class","section-card",4,"ngIf"],[1,"stats-grid"],[1,"stat-card","stat-blue"],[1,"stat-icon-wrapper"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"stat-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"],[1,"stat-content"],[1,"stat-label"],[1,"stat-value"],[1,"stat-card","stat-green"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"],[1,"stat-card","stat-orange"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"],[1,"stat-card","stat-purple"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"stat-value","stat-value-sm"],[1,"charts-container"],[1,"chart-card"],[1,"chart-header"],[1,"chart-title"],[1,"chart-wrapper"],[3,"series","chart","xaxis","yaxis","dataLabels","title","colors","plotOptions","tooltip",4,"ngIf"],[3,"series","chart","xaxis","yaxis","stroke","dataLabels","title","colors","fill","tooltip",4,"ngIf"],[3,"series","chart","xaxis","yaxis","dataLabels","title","colors","plotOptions","tooltip"],[3,"series","chart","xaxis","yaxis","stroke","dataLabels","title","colors","fill","tooltip"],[1,"section-card"],[1,"section-header"],[1,"section-title-wrapper"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"section-icon"],[1,"section-title"],["routerLink","/periodos-siembra/nuevo",1,"btn-section-action"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],["class","empty-state",4,"ngIf"],["class","periodos-grid",4,"ngIf"],[1,"empty-state"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"empty-icon"],[1,"empty-title"],[1,"empty-description"],["routerLink","/periodos-siembra/nuevo",1,"btn-empty-action"],[1,"periodos-grid"],["class","periodo-card",4,"ngFor","ngForOf"],[1,"periodo-card"],[1,"periodo-header"],[1,"periodo-title"],[1,"periodo-badge"],[1,"periodo-info"],[1,"info-row"],[1,"info-label"],[1,"info-value"],[1,"periodo-progress"],[1,"progress-header"],[1,"progress-label"],[1,"progress-value"],[1,"progress-bar"],[1,"progress-fill"],[1,"btn-periodo-detail",3,"routerLink"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"alertas-list"],["class","alerta-item",3,"alerta-critica","alerta-media",4,"ngFor","ngForOf"],[1,"alerta-item"],[1,"alerta-icon-wrapper"],["class","alerta-icon","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],[1,"alerta-content"],[1,"alerta-message"],[1,"alerta-date"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"alerta-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"]],template:function(e,t){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2),h(),n(3,"svg",3),p(4,"path",4),a(),g(),n(5,"div",5)(6,"h1",6),s(7,"Reportes y An\xE1lisis"),a(),n(8,"p",7),s(9,"An\xE1lisis detallado de producci\xF3n, costos y rendimiento"),a()()(),n(10,"div",8)(11,"button",9),O("click",function(){return t.exportarExcel()}),h(),n(12,"svg",10),p(13,"path",11),a(),g(),n(14,"span"),s(15,"Exportar Excel"),a()(),n(16,"button",12),O("click",function(){return t.exportarPDF()}),h(),n(17,"svg",10),p(18,"path",13),a(),g(),n(19,"span"),s(20,"Exportar PDF"),a()()()(),n(21,"div",14)(22,"div",15),h(),n(23,"svg",16),p(24,"path",17),a(),g(),n(25,"span"),s(26,"Filtros de Fecha"),a()(),n(27,"div",18)(28,"div",19)(29,"label",20),s(30,"Fecha Inicio"),a(),n(31,"input",21),V("ngModelChange",function(c){return H(t.fechaInicio,c)||(t.fechaInicio=c),c}),a()(),n(32,"div",19)(33,"label",20),s(34,"Fecha Fin"),a(),n(35,"input",21),V("ngModelChange",function(c){return H(t.fechaFin,c)||(t.fechaFin=c),c}),a()(),n(36,"div",22)(37,"button",23),O("click",function(){return t.limpiarFiltros()}),h(),n(38,"svg",10),p(39,"path",24),a(),g(),n(40,"span"),s(41,"Limpiar"),a()(),n(42,"button",25),O("click",function(){return t.aplicarFiltros()}),h(),n(43,"svg",10),p(44,"path",26),a(),g(),n(45,"span"),s(46,"Buscar"),a()()()()(),_(47,Re,6,0,"div",27)(48,ze,10,1,"div",28)(49,Xe,5,4,"div",29),a()),e&2&&(d(31),j("ngModel",t.fechaInicio),d(4),j("ngModel",t.fechaFin),d(12),u("ngIf",t.loading),d(),u("ngIf",t.errorMessage&&!t.loading),d(),u("ngIf",!t.loading&&!t.errorMessage&&t.dashboardData))},dependencies:[he,ce,pe,be,fe,Me,ve,Ce,_e,we,Pe,me],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:1rem;max-width:1600px;margin:0 auto;background:#fafafa;min-height:100vh}@media (min-width: 768px){.dashboard-container[_ngcontent-%COMP%]{padding:2rem}}.page-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;margin-bottom:2rem;padding:1.5rem;background:#fff;border-radius:12px;box-shadow:0 1px 3px #00000014}@media (min-width: 768px){.page-header[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between;align-items:flex-start;padding:2rem}}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1}.header-icon[_ngcontent-%COMP%]{width:32px;height:32px;color:#1a7f5a;flex-shrink:0}.header-text[_ngcontent-%COMP%]{flex:1}.page-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#111827;margin:0 0 .25rem}@media (min-width: 768px){.page-title[_ngcontent-%COMP%]{font-size:1.875rem}}.page-subtitle[_ngcontent-%COMP%]{font-size:.9rem;color:#6b7280;margin:0}.header-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;width:100%}@media (min-width: 640px){.header-actions[_ngcontent-%COMP%]{flex-direction:row;width:auto}}.btn-export[_ngcontent-%COMP%]{padding:.75rem 1.25rem;border-radius:8px;border:1px solid;font-weight:600;font-size:.9rem;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:.5rem;transition:all .2s ease}.btn-excel[_ngcontent-%COMP%]{background:#fff;color:#10b981;border-color:#86efac}.btn-excel[_ngcontent-%COMP%]:hover{background:#ecfdf5;border-color:#10b981}.btn-pdf[_ngcontent-%COMP%]{background:#fff;color:#ef4444;border-color:#fca5a5}.btn-pdf[_ngcontent-%COMP%]:hover{background:#fef2f2;border-color:#ef4444}.filters-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #00000014;margin-bottom:2rem;overflow:hidden}.filters-header[_ngcontent-%COMP%]{padding:1rem 1.5rem;background:#f9fafb;border-bottom:1px solid #e5e7eb;display:flex;align-items:center;gap:.5rem;font-weight:600;color:#374151;font-size:.9rem}.filters-content[_ngcontent-%COMP%]{padding:1.5rem;display:grid;grid-template-columns:1fr;gap:1.25rem}@media (min-width: 640px){.filters-content[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr auto}}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.filter-label[_ngcontent-%COMP%]{font-size:.85rem;font-weight:600;color:#374151}.filter-input[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #d1d5db;border-radius:8px;font-size:.9rem;transition:all .2s ease}.filter-input[_ngcontent-%COMP%]:hover{border-color:#9ca3af}.filter-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#1a7f5a;box-shadow:0 0 0 3px #1a7f5a14}.filter-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}@media (min-width: 640px){.filter-actions[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-end}}.btn-filter[_ngcontent-%COMP%]{padding:.75rem 1.25rem;border-radius:8px;border:none;font-weight:600;font-size:.9rem;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:.5rem;transition:all .2s ease}.btn-clear[_ngcontent-%COMP%]{background:#f3f4f6;color:#6b7280}.btn-clear[_ngcontent-%COMP%]:hover{background:#e5e7eb;color:#111827}.btn-apply[_ngcontent-%COMP%]{background:#1a7f5a;color:#fff}.btn-apply[_ngcontent-%COMP%]:hover{background:#166649}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;background:#fff;border-radius:12px;box-shadow:0 1px 3px #00000014}.loading-spinner[_ngcontent-%COMP%]{width:48px;height:48px;color:#1a7f5a;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-text[_ngcontent-%COMP%]{font-size:.95rem;color:#6b7280;font-weight:500;margin:0}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1.25rem;margin-bottom:2rem}@media (min-width: 640px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #00000014;padding:1.5rem;display:flex;align-items:center;gap:1rem;border-left:4px solid;transition:all .2s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.stat-blue[_ngcontent-%COMP%]{border-left-color:#3b82f6}.stat-green[_ngcontent-%COMP%]{border-left-color:#10b981}.stat-orange[_ngcontent-%COMP%]{border-left-color:#f59e0b}.stat-purple[_ngcontent-%COMP%]{border-left-color:#8b5cf6}.stat-icon-wrapper[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:12px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.stat-blue[_ngcontent-%COMP%]   .stat-icon-wrapper[_ngcontent-%COMP%]{background:#eff6ff}.stat-green[_ngcontent-%COMP%]   .stat-icon-wrapper[_ngcontent-%COMP%]{background:#ecfdf5}.stat-orange[_ngcontent-%COMP%]   .stat-icon-wrapper[_ngcontent-%COMP%]{background:#fffbeb}.stat-purple[_ngcontent-%COMP%]   .stat-icon-wrapper[_ngcontent-%COMP%]{background:#f5f3ff}.stat-icon[_ngcontent-%COMP%]{width:28px;height:28px}.stat-blue[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{color:#3b82f6}.stat-green[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{color:#10b981}.stat-orange[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{color:#f59e0b}.stat-purple[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{color:#8b5cf6}.stat-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.25rem}.stat-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#6b7280;text-transform:uppercase;letter-spacing:.05em}.stat-value[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:#111827;line-height:1}.stat-value-sm[_ngcontent-%COMP%]{font-size:1.25rem}.charts-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1.5rem;margin-bottom:2rem}@media (min-width: 1024px){.charts-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.chart-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #00000014;overflow:hidden}.chart-header[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;background:#f9fafb;border-bottom:1px solid #e5e7eb}.chart-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#111827;margin:0}.chart-wrapper[_ngcontent-%COMP%]{padding:1rem}.section-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #00000014;padding:1.5rem;margin-bottom:2rem}@media (min-width: 768px){.section-card[_ngcontent-%COMP%]{padding:2rem}}.section-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:2px solid #f3f4f6}@media (min-width: 640px){.section-header[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between;align-items:center}}.section-title-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.section-icon[_ngcontent-%COMP%]{width:24px;height:24px;color:#1a7f5a;flex-shrink:0}.section-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#111827;margin:0}.btn-section-action[_ngcontent-%COMP%]{padding:.75rem 1.25rem;background:#1a7f5a;color:#fff;border:none;border-radius:8px;font-weight:600;font-size:.9rem;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:.5rem;transition:all .2s ease;width:100%}@media (min-width: 640px){.btn-section-action[_ngcontent-%COMP%]{width:auto}}.btn-section-action[_ngcontent-%COMP%]:hover{background:#166649}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem}.empty-icon[_ngcontent-%COMP%]{width:64px;height:64px;margin:0 auto 1.5rem;color:#d1d5db}.empty-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#111827;margin:0 0 .5rem}.empty-description[_ngcontent-%COMP%]{font-size:.9rem;color:#6b7280;margin:0 0 1.5rem;line-height:1.5}.btn-empty-action[_ngcontent-%COMP%]{padding:.875rem 1.5rem;background:#1a7f5a;color:#fff;border:none;border-radius:8px;font-weight:600;font-size:.95rem;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s ease}.btn-empty-action[_ngcontent-%COMP%]:hover{background:#166649}.periodos-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1.5rem}@media (min-width: 640px){.periodos-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px){.periodos-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}.periodo-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:1.25rem;transition:all .2s ease}.periodo-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000001a;border-color:#d1d5db}.periodo-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:1rem;margin-bottom:1rem;padding-bottom:1rem;border-bottom:1px solid #f3f4f6}.periodo-title[_ngcontent-%COMP%]{font-size:1.05rem;font-weight:600;color:#111827;margin:0}.periodo-badge[_ngcontent-%COMP%]{padding:.375rem .875rem;background:#ecfdf5;color:#065f46;border:1px solid #a7f3d0;border-radius:999px;font-size:.7rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em;white-space:nowrap;flex-shrink:0}.periodo-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;margin-bottom:1rem}.info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:.85rem}.info-label[_ngcontent-%COMP%]{color:#6b7280;font-weight:500}.info-value[_ngcontent-%COMP%]{color:#111827;font-weight:600}.periodo-progress[_ngcontent-%COMP%]{margin-bottom:1rem}.progress-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.progress-label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;color:#6b7280}.progress-value[_ngcontent-%COMP%]{font-size:.8rem;font-weight:700;color:#1a7f5a}.progress-bar[_ngcontent-%COMP%]{height:8px;background:#f3f4f6;border-radius:999px;overflow:hidden}.progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#1a7f5a,#10b981);transition:width .3s ease}.btn-periodo-detail[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:#f9fafb;color:#1a7f5a;border:1px solid #e5e7eb;border-radius:8px;font-weight:600;font-size:.85rem;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:.5rem;transition:all .2s ease}.btn-periodo-detail[_ngcontent-%COMP%]:hover{background:#ecfdf5;border-color:#1a7f5a}.alertas-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.alerta-item[_ngcontent-%COMP%]{display:flex;gap:1rem;padding:1.25rem;border-radius:12px;border:1px solid;background:#f9fafb;border-color:#e5e7eb;transition:all .2s ease}.alerta-item[_ngcontent-%COMP%]:hover{background:#f3f4f6;transform:translate(4px)}.alerta-critica[_ngcontent-%COMP%]{background:#fef2f2!important;border-color:#fecaca!important}.alerta-media[_ngcontent-%COMP%]{background:#fffbeb!important;border-color:#fde68a!important}.alerta-icon-wrapper[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;flex-shrink:0;background:#fff}.alerta-critica[_ngcontent-%COMP%]   .alerta-icon-wrapper[_ngcontent-%COMP%], .alerta-media[_ngcontent-%COMP%]   .alerta-icon-wrapper[_ngcontent-%COMP%]{background:#fff}.alerta-icon[_ngcontent-%COMP%]{width:24px;height:24px}.alerta-item[_ngcontent-%COMP%]   .alerta-icon[_ngcontent-%COMP%]{color:#6b7280}.alerta-critica[_ngcontent-%COMP%]   .alerta-icon[_ngcontent-%COMP%]{color:#ef4444}.alerta-media[_ngcontent-%COMP%]   .alerta-icon[_ngcontent-%COMP%]{color:#f59e0b}.alerta-content[_ngcontent-%COMP%]{flex:1;min-width:0}.alerta-title[_ngcontent-%COMP%]{font-size:.95rem;font-weight:600;color:#111827;margin:0 0 .375rem}.alerta-message[_ngcontent-%COMP%]{font-size:.85rem;color:#6b7280;margin:0 0 .5rem;line-height:1.5}.alerta-date[_ngcontent-%COMP%]{font-size:.75rem;color:#9ca3af}.w-4[_ngcontent-%COMP%]{width:1rem;height:1rem}.w-5[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}@media (max-width: 639px){.dashboard-container[_ngcontent-%COMP%]{padding:.75rem}.page-header[_ngcontent-%COMP%]{padding:1.25rem}.page-title[_ngcontent-%COMP%]{font-size:1.25rem}.header-icon[_ngcontent-%COMP%]{width:28px;height:28px}.filters-card[_ngcontent-%COMP%]{margin-bottom:1.5rem}.filters-content[_ngcontent-%COMP%]{padding:1.25rem}.stats-grid[_ngcontent-%COMP%]{gap:1rem}.stat-card[_ngcontent-%COMP%]{padding:1.25rem}.stat-icon-wrapper[_ngcontent-%COMP%]{width:48px;height:48px}.stat-icon[_ngcontent-%COMP%]{width:24px;height:24px}.stat-value[_ngcontent-%COMP%]{font-size:1.5rem}.section-card[_ngcontent-%COMP%]{padding:1.25rem}.section-title[_ngcontent-%COMP%]{font-size:1.125rem}.periodo-card[_ngcontent-%COMP%]{padding:1rem}.alerta-item[_ngcontent-%COMP%]{padding:1rem;flex-direction:column;text-align:center}.alerta-icon-wrapper[_ngcontent-%COMP%]{margin:0 auto}}@media (max-width: 1023px){.charts-container[_ngcontent-%COMP%]{gap:1.25rem}.chart-wrapper[_ngcontent-%COMP%]{overflow-x:auto}}"]})};export{ye as ReportesDashboardComponent};
